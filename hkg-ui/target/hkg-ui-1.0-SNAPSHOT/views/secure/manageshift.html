<div class="row">
    <div class="col-xs-12">
        <div class="col-xs-12 breadcrumb-bg" ng-show="!configureDefaultShift">
            <div class="col-xs-12 col-lg-8">
                <ol class="breadcrumb">
                    <li ng-show="!configureDefaultShift">{{entity + 'You are here'| translate }}</li>
                    <li ng-show="!configureDefaultShift">{{entity + 'Manage'| translate }}</li>
                    <li ng-show="!configureDefaultShift" >{{ entity + 'Shift' | translate}}</li>  
                    <li class="active" ng-show="!configureDefaultShift && !isEditing && !searchPage">{{entity + 'Add Shift'| translate }}</li>
                    <li class="active" ng-show="!configureDefaultShift && searchPage">{{entity + 'View Shift'| translate }}</li>
                    <li class="active" ng-show="!configureDefaultShift && isEditing && !searchPage">{{entity + 'Edit Shift'| translate }}</li>
                </ol>
            </div>
            <div class="col-xs-12 col-lg-4 text-right context-menu" ng-show="(!configureDefaultShift) && (isEditing || searchPage)"> 
                <span class="glyphicon glyphicon-plus-sign text-primary"></span>&nbsp;<a class="pull-right" ng-click="clearData(true)">{{ entity + 'Add new shift' | translate}}</a>
            </div>
        </div>

        <div class="col-xs-9 new-panel" ng-class="{'col-xs-12 col-lg-12':configureDefaultShift}">
            <!--<div class="col-xs-12">-->

            <form class="form-horizontal" role="form" name="shiftManagementForm" novalidate>
                <div class="col-xs-12"
                     ng-init="registerLocationChangeEvent(shiftManagementForm);
                             initShiftManagementForm(shiftManagementForm)">
                </div>
                <!--<hr class="margin-md"  ng-show="!configureDefaultShift"/>-->
                <!--                <div class="row">
                                <div class="col-xs-12">-->
                <div class="row">
                    <div class="col-xs-12">
                        <!--<form class="form-horizontal" role="form">-->
                        <div class="col-xs-12 col-lg-12 well well-sm" ng-show="!configureDefaultShift && canAccess('shiftAddEdit')">
                            <div class="input-group">
                                <div id="scrollable-dropdown-menu" >
                                    <input class="typeahead" type="text"  placeholder="Search for shifts.." 
                                           ag-search="{{apipath}}shift/searchShift" 
                                           result-format="shiftName,departmentNames" 
                                           on-select="editShift" 
                                           on-enter="setSearchflag"
                                           search-list-array='searchedShiftList'
                                           id="scrollable-dropdown-menu"/>

                                </div>
                                <span class="input-group-btn">
                                    <button class="btn btn-default btn-hkg" ng-click="setSearchflag(searchedShiftList)" type="button"><span class="glyphicon glyphicon-search"></span></button>
                                </span>
                            </div>
                            <!--input-group-->  
                        </div>
                        <div class="clearfix"></div>
                        <div id="messages" ng-include src="'templates/messages.html'"></div>
                        <!--</form>-->
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <!--                            <h4 ng-show="!isEditing && !configureDefaultShift && !searchPage">{{entity + 'Add new shift'| translate }}</h4>
                                                    <h4 ng-show="configureDefaultShift">{{entity + 'Add default shift'| translate }}</h4>
                                                    <h4 ng-show="isEditing && !temporaryShift && !configureDefaultShift">{{entity + 'Edit shift'| translate }}</h4>-->
                        <h4 ng-show="isEditing && temporaryShift && shift.tempShiftId !== undefined">{{entity + 'Edit Temporary Shift For ' + mainShiftName| translate }}</h4>
                        <h4 ng-show="isEditing && temporaryShift && !shift.tempShiftId">{{entity + 'Add Temporary Shift For ' + mainShiftName| translate }}</h4>
                    </div>


                    <div class="form-group" ng-show="addDefaultShiftPanel && !searchPage">
                        <div class="form-group">
                            <div class="col-md-6 col-md-offset-3"
                                 ng-class="{'has-error': (shiftManagementForm.input_shift_title.$invalid && shiftManagementForm.input_shift_title.$dirty) || shiftNameInDb || shiftTitleIsNull
                                             }">
                                <span style="margin-top: 9px;margin-left: 3px" ng-show="(canAccess('configureFranchise') && !overRideShiftFlag && isEditing)" class="glyphicon glyphicon-plus-sign text-primary"></span>&nbsp; <span><a ng-click="showFieldsForOverrideShift(true)" ng-show="!overRideShiftFlag && isEditing">Add override shift</a></span>
                                <span style="margin-top: 9px;margin-left: 30px" ng-show="(!overRideShiftFlag && !configureDefaultShift && isEditing && shift.defaultShift && canAccess('configureFranchise') && !shift.temporaryShifts.length > 0) || (!overRideShiftFlag && configureDefaultShift && isEditing && shift.defaultShift && !shift.temporaryShifts.length > 0) || (!overRideShiftFlag && !configureDefaultShift && isEditing && !shift.defaultShift && !shift.temporaryShifts.length > 0)" class="glyphicon glyphicon-plus-sign text-primary"></span>&nbsp; <span><a ng-click="showFieldsForTempShift(true)" ng-show="(!overRideShiftFlag && configureDefaultShift && isEditing && shift.defaultShift && !shift.temporaryShifts.length > 0) || (!overRideShiftFlag && !configureDefaultShift && isEditing && !shift.defaultShift && !shift.temporaryShifts.length > 0) || (!overRideShiftFlag && !configureDefaultShift && isEditing && shift.defaultShift && canAccess('configureFranchise') && !shift.temporaryShifts.length > 0)">Add temporary shift</a></span>
                            </div>
                        </div>
                        <div class="form-group required" ng-show="!shift.defaultShift && !overRideShiftFlag">
                            <label ng-show="!configureDefaultShift" for="inputEmail3" class="col-md-3 control-label">{{entity + 'Select Department(s)' | translate}}</label>
                            <div ng-show="!configureDefaultShift" class="col-md-4" ng-class="{'has-error': (!departmentRequired)}">
                                <div class="dropdown">
                                    <button data-toggle="dropdown" class="dropdown-toggle form-control"><span class="pull-left">{{shift.selectedInString.toString() !== '' ? shift.selectedInString.toString() : "Select Department"}}</span><span class="caret pull-right no-margin"></span></button>
                                    <div class="dropdown-menu col-md-12 hkg-scrollableDropDown-tree">
                                        <div ng-click="$event.stopPropagation()" style="padding-left: 7%;">
                                            <span style="width: 100%">
                                                <ag-treeview-multiselect val="multiselecttree" selecteditem="selectedItemList" ng-if="multiselecttree" defaultselectedids="defaultSelectedids">
                                                </ag-treeview-multiselect>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="help-block error">
                                    <div ng-show="!departmentRequired">
                                        <span class="help-block">{{ entity + 'Department not selected' | translate}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group required">
                            <label for="shiftName" class="col-md-3 control-label">{{entity + 'Shift Name'| translate }}</label>
                            <div class="col-md-4"
                                 ng-class="{'has-error': (shiftManagementForm.input_shift_title.$invalid && shiftManagementForm.input_shift_title.$dirty) || shiftNameInDb || shiftTitleIsNull
                                             }">
                                <input ng-pattern="/^[^.]+$/" type="text" class="form-control" id="input_shift_title" ng-change="shiftTitleExists(true)" ng-model="shift.shiftName" required name="input_shift_title" ng-blur="shiftManagementForm.input_shift_title.$dirty = true
                                                ;
                                        shiftTitleExists(true)" maxlength="100" ng-disabled="shift.defaultShift && !canAccess('configureFranchise')"  typeahead="name.label as name.label for name in allShiftNames | filter:{label:$viewValue}" />
                                <div class="error,help-block" ng-show="(shiftManagementForm.input_shift_title.$dirty || shiftTitleIsNull) && shiftManagementForm.input_shift_title.$invalid">
                                    <span class="help-block" ng-show="(shiftManagementForm.input_shift_title.$error.required)">{{ entity + 'Shift name not entered' | translate}}</span>
                                    <span class="help-block" ng-show="shiftManagementForm.input_shift_title.$error.pattern">{{ entity + 'Shift name is invalid ' | translate}}</span>
                                </div>
                                <div class="error,help-block" ng-show="shiftNameInDb">
                                    <span class="help-block" >{{shift.shiftName}}{{ entity + ' already given' | translate}}</span>
                                </div>

                            </div>
                        </div>
                        <div class="form-group required">
                            <label for="inputEmail3" class="col-md-3 control-label" style="margin-top: 34px">{{entity + 'Shift Time'| translate }}</label>
                            <div class="col-md-3"  >
                                <timepicker ng-model="shift.shiftStartTime" hour-step="hstep" minute-step="mstep" id="shiftStartTime"  name="shiftStartTime" show-meridian="ismeridian" required></timepicker>
                            </div>

                            <div class="col-md-3" >
                                <timepicker ng-model="shift.shiftEndTime"  hour-step="hstep" minute-step="mstep" id="shiftEndTime" name="shiftEndTime"  show-meridian="ismeridian" required></timepicker>
                            </div>
                            <div class="col-md-2 pull-left" style="margin-top: 40px">
                                <span class="glyphicon glyphicon-plus-sign text-primary" ng-hide="shift.defaultShift && !canAccess('configureFranchise')"></span>&nbsp;<a ng-click="addNewBreak()"  ng-hide="shift.defaultShift && !canAccess('configureFranchise')">{{entity + 'Add break'| translate }}</a>
                            </div>
                        </div>
                        <div class=" form-group" ng-show="((shiftManagementForm.shiftEndTime.$dirty && shift.shiftEndTime === undefined) || (shiftManagementForm.shiftStartTime.$dirty && shift.shiftStartTime === undefined) || shift.shiftStartTime === null || shift.shiftEndTime === null || ((shift.shiftStartTime === undefined || (shift.shiftEndTime === undefined)) && submitted))"ng-class="{'has-error': ((shiftManagementForm.shiftEndTime.$dirty && shift.shiftEndTime === undefined) || (shiftManagementForm.shiftStartTime.$dirty && shift.shiftStartTime === undefined) || shift.shiftStartTime === null || shift.shiftEndTime === null || ((shift.shiftStartTime === undefined || (shift.shiftEndTime === undefined)) && submitted))}">
                            <div class="col-md-4 col-md-offset-3">
                                <div class="error,help-block ">
                                    <span class="help-block">{{ entity + 'Shift time not entered' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="invalidTime && addDefaultShiftPanel" ng-class="{'has-error': (invalidTime)}">
                            <div class="col-md-4 col-md-offset-3">
                                <div class="error,help-block ">
                                    <span class="help-block" >{{ entity + 'Shift time is not valid' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="shift.breakList.length > 0">
                            <div ng-repeat="breaks in shift.breakList" ng-form="breakForm" novalidate>
                                <div class="col-md-8 col-md-offset-3">
                                    <div class="row">
                                        <div class="col-md-3" ng-class="{'has-error': (breakForm.input_break_title.$dirty || submitted) && breakForm.input_break_title.$invalid}">
                                            <input style="margin-top: 34px " ng-disabled="shift.defaultShift && !canAccess('configureFranchise')" placeholder="Lunch? Tea" type="text" class="form-control" id="input_break_name" maxlength="100" required name="input_break_title" ng-model="breaks.breakSlotTitle" ng-blur="breakNameExist(breaks.breakSlotTitle)"/>
                                            <div class="error,help-block" ng-show="(breakForm.input_break_title.$dirty || submitted) && breakForm.input_break_title.$invalid" ng-class="{'has-error': (breakForm.input_break_title.$dirty || submitted) && breakForm.input_break_title.$invalid}">
                                                <span class="help-block" ng-show="(breakForm.input_break_title.$error.required && breakForm.input_break_title.$dirty) || submitted">{{ entity + 'Break name not entered' | translate}}</span>
                                            </div>                                              
                                        </div>
                                        <div  ng-model="breaks.breakStartTime" class="col-md-4" ng-change="checkBreakTime()">
                                            <timepicker hour-step="hstep" minute-step="mstep"  show-meridian="ismeridian" required id="breakStartTime" name="breakStartTime"></timepicker>
                                        </div>
                                        <div ng-model="breaks.breakEndTime" class="col-md-4" ng-change="changed()">
                                            <timepicker hour-step="hstep" minute-step="mstep"  show-meridian="ismeridian" required id="breakEndTime" name="breakEndTime"></timepicker>
                                        </div>
                                        <div class="col-md-1">
                                            <span>
                                                <a title="{{entity + 'Click to remove'|translate}}" ng-click="removeBreak(breaks)" style="margin-top: 40px" class="glyphicon glyphicon-remove text-danger" ng-hide="shift.defaultShift && !canAccess('configureFranchise')"></a>
                                            </span>   
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3 col-md-offset-3" ng-show="(breaks.breakStartTime === null || breaks.breakEndTime === null || ((breaks.breakStartTime === undefined || (breaks.breakEndTime === undefined)) && submitted))"ng-class="{'has-error': (breaks.breakStartTime === null || breaks.breakEndTime === null || ((breaks.breakStartTime === undefined || (breaks.breakEndTime === undefined)) && submitted))}">
                                            <div class="error,help-block">
                                                <span class="help-block">{{ entity + 'Break time not entered' | translate}}</span>
                                            </div>                                              
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="form-group" ng-show="invalidBreakTime" ng-class="{'has-error': (invalidBreakTime)}">
                            <div class="col-md-4 col-md-offset-3">
                                <div class="error,help-block" ng-show="invalidBreakTime">
                                    <span class="help-block" >{{ entity + 'Break time is not valid' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group required">
                            <label for="inputEmail3" class="col-md-3 control-label">{{entity + 'Working Days'| translate }}
                            </label>
                            <div class="col-md-8">
                                <span ng-repeat="offday in weekDay.WeekOffList" >
                                    <input id="checkeddays" type="checkbox" hidden="true"ng-model="offday.isChecked" ng-true-value='true' ng-checked="offday.isChecked"/>
                                    <div class="hkg-checkbox-button">
                                        <label>
                                            <input id="checkeddays2" type="checkbox" hidden="true" ng-disabled="shift.defaultShift && !canAccess('configureFranchise')" ng-model="offday.isChecked" ng-true-value='true' ng-checked="offday.isChecked" value="1" ng-change="checkConditionForDays(offday.code)"><span>{{offday.code}}</span>
                                        </label>
                                    </div>
                                </span>
                                <!--<span style="margin-top: 9px;margin-left: 30px" ng-show="(!overRideShiftFlag && !configureDefaultShift && isEditing && shift.defaultShift && canAccess('configureFranchise') && !shift.temporaryShifts.length > 0) || (!overRideShiftFlag && configureDefaultShift && isEditing && shift.defaultShift && !shift.temporaryShifts.length > 0) || (!overRideShiftFlag && !configureDefaultShift && isEditing && !shift.defaultShift && !shift.temporaryShifts.length > 0)" class="glyphicon glyphicon-plus-sign text-primary"></span>&nbsp; <span><a ng-click="showFieldsForTempShift(true)" ng-show="(!overRideShiftFlag && configureDefaultShift && isEditing && shift.defaultShift && !shift.temporaryShifts.length > 0) || (!overRideShiftFlag && !configureDefaultShift && isEditing && !shift.defaultShift && !shift.temporaryShifts.length > 0) || (!overRideShiftFlag && !configureDefaultShift && isEditing && shift.defaultShift && canAccess('configureFranchise') && !shift.temporaryShifts.length > 0)">Add temporary shift</a></span>-->
                                <div><br/><br/></div>
                                <div class="error,help-block" ng-class="{'has-error': (allDaysAreSelectedAsWorking && !temporaryShift)}"ng-show="allDaysAreSelectedAsWorking && !temporaryShift">
                                    <span class="help-block" >{{ entity + 'There are no week offs for this shift' | translate}}</span>
                                </div>
                            </div>

                        </div>
                        <div class="form-group required" ng-show="!configureDefaultShift && isEditing && !shift.defaultShift">
                            <label for="inputEmail3" class="col-md-3 control-label">{{entity + 'Status'| translate }}</label>
                            <div class="col-md-5">
                                <label class="radio-inline">
                                    <input id="radio_active_id" type="radio" name="radio_Active" ng-value="true" ng-model="shift.status" />{{ entity + 'Active' | translate}}
                                </label>
                                <label class="radio-inline">
                                    <input id="radio_active_id2" type="radio" name="radio_Active" ng-value="false" ng-model="shift.status"/>{{ entity + 'Remove shift' | translate}}
                                </label>
                            </div>
                        </div>
                        <div ng-if="!isEditing">
                            <dynamic-form  input-css ="col-md-4" label-css="col-md-3 control-label" db-map="dbType" 
                                           internationalization-label="{{i18DynamicForm}}" template="generalShiftTemplate" 

                                           ng-model="addShiftData" ng-if="generalShiftTemplate" ng-disabled="shift.defaultShift && !canAccess('configureFranchise')" edit-flag="{{isEditing}}" is-diamond="false" no-of-field-per-row = "1">
                            </dynamic-form></div>
                        <div ng-if="isEditing">
                            <dynamic-form  input-css ="col-md-4" label-css="col-md-3 control-label" db-map="dbType" 
                                           internationalization-label="{{i18DynamicForm}}" template="generalShiftTemplate" 

                                           ng-model="addShiftData" ng-if="generalShiftTemplate" ng-disabled="shift.defaultShift && !canAccess('configureFranchise')"  edit-flag="{{isEditing}}" is-diamond="false" no-of-field-per-row = "1">
                            </dynamic-form></div>
                    </div>
                    <div class="modal fade" role="dialog" id="passwordPopUp" tabindex="-1" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <a class="close" href="#/manageshift" ng-click="cancelBreak(true)" ng-show="!temporaryShift">&times;</a>
                                    <a class="close" href="#/manageshift" ng-click="cancelBreak(false)" ng-show="temporaryShift">&times;</a>
                                    <h4 class="modal-title" id="myModalLabel">{{ entity + 'Warning' | translate}}</h4>
                                </div>
                                <div class="modal-body">
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <label>{{ entity + 'There are no breaks for this shift' | translate}}</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <div class="form-group">
                                        <div class="col-xs-12">
                                            <div class="pull-right text-right">
                                                <a ng-click="cancelBreak(true);" ng-show="!temporaryShift">{{entity + 'Cancel'| translate}}</a>
                                                <a ng-click="cancelBreak(false);" ng-show="temporaryShift">{{entity + 'Cancel'| translate}}</a>
                                                &nbsp;
                                                <button id="continue" class="btn btn-hkg " ng-click="noBreaks()">{{ entity + "Continue" | translate }}</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>

            <div ng-if="!searchPage">
                <form class="form-horizontal" role="form" name="tempShiftForm" novalidate>
                    <div ng-show="temporaryShift" ng-init="registerLocationChangeEvent(tempShiftForm);
                            initTempShiftManagementForm(tempShiftForm)">
                        <div class="form-group required">
                            <label for="inputEmail3" class="col-md-3 control-label">{{entity + 'Shift Name'| translate }}</label>
                            <div class="col-md-4 col-lg-4 col-sm-8"
                                 ng-class="{'has-error': (tempShiftForm.tempShiftName.$invalid && tempShiftForm.tempShiftName.$dirty) || shiftNameInDb || shiftTitleIsNull}">
                                <input type="text" class="form-control" id="tempShiftName" maxlength="100" ng-disabled="shift.defaultTempShift && !canAccess('configureFranchise')" ng-model="shift.tempShiftName" required name="tempShiftName" ng-blur="tempShiftForm.tempShiftName.$dirty = true;
                                        shiftTitleExists(false)" ng-change="shiftTitleExists(false)" typeahead="name.label as name.label for name in allShiftNames | filter:{label:$viewValue}" />
                                <div class="error,help-block" ng-show="(tempShiftForm.tempShiftName.$dirty || shiftTitleIsNull) && tempShiftForm.tempShiftName.$invalid">
                                    <span class="help-block" ng-show="tempShiftForm.tempShiftName.$error.required || tempShiftForm.tempShiftName.$dirty">{{ entity + 'Shift name not entered' | translate}}</span>
                                </div>
                                <div class="error,help-block" ng-show="shiftNameInDb">
                                    <span class="help-block" >{{shift.tempShiftName}}{{ entity + ' already given' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group required">
                            <label for="inputEmail3" class="col-md-3 control-label">{{entity + 'Shift Time'| translate }}</label>
                            <div class="col-md-3" ng-model="shift.tempShiftStartTime">
                                <timepicker hour-step="hstep" minute-step="mstep" show-meridian="ismeridian" id="stime1" required></timepicker>
                            </div>

                            <div class="col-md-3" ng-model="shift.tempShiftEndTime">
                                <timepicker hour-step="hstep" minute-step="mstep"  show-meridian="ismeridian" id="etime1"></timepicker>
                            </div>
                            <div class="col-md-2 pull-left" style="margin-top: 40px" ng-hide="shift.defaultTempShift && !canAccess('configureFranchise')">
                                <span class="glyphicon glyphicon-plus-sign text-primary"></span>&nbsp;
                                <a ng-click="addNewBreakForTempShift()" >{{entity + 'Add break'| translate }}</a>
                            </div>
                        </div>
                        <!--<div ng-show="invalidTime && temporaryShift" class="row"></div>-->
                        <div class=" form-group" ng-show="(shift.tempShiftStartTime === null || shift.tempShiftEndTime === null || ((shift.tempShiftStartTime === undefined || (shift.tempShiftEndTime === undefined)) && submitted))"ng-class="{'has-error': (shift.tempShiftStartTime === null || shift.tempShiftEndTime === null || ((shift.tempShiftStartTime === undefined || (shift.tempShiftEndTime === undefined)) && submitted))}">
                            <div class="col-md-4 col-md-offset-3">
                                <div class="error,help-block ">
                                    <span class="help-block">{{ entity + 'Shift time not entered' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class=" form-group" ng-show="invalidTime && temporaryShift"ng-class="{'has-error': (invalidTime)}">
                            <div class="col-md-4 col-md-offset-3">
                                <div class="error,help-block ">
                                    <span class="help-block">{{ entity + 'Shift time is not valid' | translate}}</span>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="form-group" ng-show="shift.tempShiftBreakList.length > 0">
                        <div ng-repeat="tempbreaks in shift.tempShiftBreakList" ng-form="tempBreakForm" novalidate>
                            <div class="col-md-8 col-md-offset-3">
                                <div class="row">
                                    <div class="col-md-3" ng-class="{'has-error': (submitted || tempBreakForm.tempBreakTitle.$dirty) && tempBreakForm.tempBreakTitle.$invalid}">
                                        <input style="margin-top: 34px " placeholder="Lunch? Tea" type="text" class="form-control" id="input_break_name" maxlength="100" required name="tempBreakTitle" ng-model="tempbreaks.breakSlotTitle"/>
                                        <div class="error,help-block" ng-show="(tempBreakForm.tempBreakTitle.$dirty || submitted) && tempBreakForm.tempBreakTitle.$invalid" ng-class="{'has-error': (tempBreakForm.tempBreakTitle.$dirty || submitted) && tempBreakForm.tempBreakTitle.$invalid}">
                                            <span class="help-block" ng-show="(tempBreakForm.tempBreakTitle.$error.required && tempBreakForm.tempBreakTitle.$dirty) || submitted">{{ entity + 'Break name not entered' | translate}}</span>
                                        </div>                                              
                                    </div>
                                    <div  ng-model="tempbreaks.breakStartTime" class="col-md-4" ng-change="changed()">
                                        <timepicker hour-step="hstep" id="stime2"  minute-step="mstep" show-meridian="ismeridian"></timepicker>
                                    </div>
                                    <div ng-model="tempbreaks.breakEndTime" class="col-md-4" ng-change="changed()">
                                        <timepicker hour-step="hstep" id="etime2" minute-step="mstep"  show-meridian="ismeridian"></timepicker>
                                    </div>
                                    <div class="col-md-1" ng-hide="shift.defaultTempShift && !canAccess('configureFranchise')">
                                        <span>
                                            <a ng-click="removeBreakForTempShift(tempbreaks)" title="{{entity + 'Click to remove'|translate}}" style="margin-top: 40px" class="glyphicon glyphicon-remove text-danger" ng-hide="shift.defaultShift && !canAccess('configureFranchise')"></a>
                                        </span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3 col-md-offset-3" ng-show="(tempbreaks.breakStartTime === null || tempbreaks.breakEndTime === null || ((tempbreaks.breakStartTime === undefined || (tempbreaks.breakEndTime === undefined)) && submitted))"ng-class="{'has-error': (tempbreaks.breakStartTime === null || tempbreaks.breakEndTime === null || ((tempbreaks.breakStartTime === undefined || (tempbreaks.breakEndTime === undefined)) && submitted))}">
                                        <div class="error,help-block">
                                            <span class="help-block" >{{ entity + 'Break time not entered' | translate}}</span>
                                        </div>                                              
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group" ng-show="invalidBreakTime && temporaryShift" ng-class="{'has-error': (invalidBreakTime)}">
                        <div class="col-md-4 col-md-offset-3">
                            <div class="error,help-block" ng-show="invalidBreakTime">
                                <span class="help-block" >{{ entity + 'Break time is not valid' | translate}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group required" ng-show="temporaryShift">
                        <label for="inputEmail3" class="col-md-3 control-label">{{entity + 'Working Days'| translate }}
                        </label>
                        <div class="col-md-6">
                            <span ng-repeat="offday in shift.WeekOffListForTempShift" >
                                <input id="workingdays" type="checkbox" hidden="true"ng-model="offday.isChecked" ng-true-value='true' ng-checked="offday.isChecked"/>
                                <div class="hkg-checkbox-button">
                                    <label>
                                        <input id="workingdays1" type="checkbox" hidden="true" ng-disabled="shift.defaultTempShift && !canAccess('configureFranchise')" ng-model="offday.isChecked" ng-change="checkConditionForDaysForTempShift(offday.code)" ng-true-value='true' ng-checked="offday.isChecked" value="1"><span>{{offday.code}}</span>
                                    </label>
                                </div>
                            </span>
                            <div><br/><br/></div>
                            <div class="error,help-block" ng-class="{'has-error': (allDaysAreSelectedAsWorkingTempShift && temporaryShift)}"ng-show="allDaysAreSelectedAsWorkingTempShift && temporaryShift">
                                <span class="help-block" >{{ entity + 'There are no week offs for this shift' | translate}}</span>
                            </div>
                        </div>
                    </div>

                    <div ng-if="temporaryShift">
                        <div class="form-group required">
                            <label for="inputEmail3" class="col-md-3 control-label">{{entity + 'Duration Of Shift'| translate }}</label>
                            <div class="col-lg-4 col-md-4 col-sm-8">                          
                                <label class="radio-inline">
                                    <input id="setrule" type="radio" ng-disabled="shift.defaultTempShift && !canAccess('configureFranchise')" name="radio_shift.setRule" ng-value="true" ng-model="shift.setRule" ng-change="setRuleChanged()"/>{{ entity + 'Set rule' | translate}}
                                </label>
                            </div>
                        </div>
                        <div class="form-group required">
                            <div class="col-md-1 col-md-offset-2">
                                <p>{{entity + 'Begins'| translate }}</p>
                            </div>
                            <div class="col-md-2"ng-class="{'has-error': (startDayCount)}">
                                <input id="setrule1" type="text" class="form-control" ng-required="shift.setRule" ng-model="shift.beginsDayCount" ng-change="checkCountForBegins()" ng-disabled="!shift.setRule || (shift.defaultTempShift && !canAccess('configureFranchise'))" numbers-only="numbers-only"/>
                                <span>{{entity + 'day'| translate }}</span>
                            </div>

                            <div class="col-md-2" ng-class="{'has-error': (beginsDurationFlag)}">
                                <select id="select_duration" class="form-control" ng-required="shift.setRule" name="beginsDurationDropDown" ng-change="checkDurationForStart()" ng-disabled="!shift.setRule || (shift.defaultTempShift && !canAccess('configureFranchise'))" ng-options="beginsDuration.title as beginsDuration.title for beginsDuration in beforeOrAfterList" ng-model="begins.beginsDuration" ng-blur="tempShiftForm.beginsDurationDropDown.$dirty = true">
                                    <option value="" ng-show="begins.beginsDuration === undefined">{{entity + 'Select'| translate }}</option>
                                </select>
                            </div>
                            <div class="col-md-2"ng-class="{'has-error': (beginsHolidayOrEventFlag)}">
                                <select id="select_type" class="form-control" ng-disabled="!shift.setRule || (shift.defaultTempShift && !canAccess('configureFranchise'))" ng-required="shift.setRule" name="beginsTypeDropDown"ng-change="onTypeChangeBegin()" ng-options="beginsHolidayOrEvent.title as beginsHolidayOrEvent.title for beginsHolidayOrEvent in holidayOrEventList" ng-model="begins.beginsHolidayOrEvent" ng-blur="tempShiftForm.beginsTypeDropDown.$dirty = true">
                                    <option value="" ng-show="begins.beginsHolidayOrEvent === undefined">{{entity + 'Select'| translate }}</option>
                                </select>
                            </div>
                            <div class="col-md-2"ng-class="{'has-error':(beginitemFlag)}">
                                <select class="form-control" name="beginsDropDown" ng-required="shift.setRule" ng-options="beginitem.title as beginitem.title for beginitem in listToShowBegin" ng-disabled="!shift.setRule || (shift.defaultTempShift && !canAccess('configureFranchise'))" ng-model="begins.beginitem" ng-change="startItemChanged()" ng-blur="tempShiftForm.beginsDropDown.$dirty = true">
                                    <option value="" ng-show="listToShowBegin.length === 0">{{entity + 'Select'| translate }}</option>
                                </select>
                            </div>

                        </div>
                        <div class="form-group" ng-class="{'has-error': (startDayCount)}"  ng-show="startDayCount">
                            <div class="col-md-offset-3 col-lg-5 col-md-5 col-sm-8">
                                <div class="error,help-block">
                                    <span class="help-block" >{{ entity + 'Days for start of duration not entered' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="beginsDurationFlag">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8" ng-class="{'has-error':(beginsDurationFlag)}">
                                <div class="error,help-block">
                                    <span class="help-block">{{ entity + 'When to start shift not entered' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="beginsHolidayOrEventFlag">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8" ng-class="{'has-error':(beginsHolidayOrEventFlag)}">
                                <div class="error,help-block">
                                    <span class="help-block" ng-show="beginsHolidayOrEventFlag">{{ entity + 'Event to start shift not selected' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="beginitemFlag">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8" ng-class="{'has-error':(beginitemFlag)}">
                                <div class="error,help-block">
                                    <span class="help-block">{{ entity + begins.beginsHolidayOrEvent + ' to start shift not selected' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-1 col-md-offset-2">
                                <p>{{entity + 'ends'| translate }}</p>
                            </div>
                            <div class="col-md-2" ng-class="{'has-error': (endsDayCount)}">
                                <input type="text" class="form-control" ng-required="shift.setRule" ng-model="shift.endsDayCount" ng-disabled="!shift.setRule || (shift.defaultTempShift && !canAccess('configureFranchise'))" numbers-only="numbers-only" id="endsDayCount" name="endsDayCount" ng-change ="checkCountForEnds()"/>
                                <span>{{entity + 'day'| translate }}</span>
                            </div>
                            <div class="col-md-2" ng-class="{'has-error': (endsDurationFlag)}">
                                <select id="select_duration" class="form-control" name="endsDurationDropDown" ng-change="checkDurationForEnd(true)" ng-required="shift.setRule" ng-disabled="!shift.setRule || (shift.defaultTempShift && !canAccess('configureFranchise'))" ng-options="endsDuration.title as endsDuration.title for endsDuration in beforeOrAfterList" ng-model="begins.endsDuration">
                                    <option value="" ng-show="begins.endsDuration === undefined">{{entity + 'Select'| translate }}</option>
                                </select>
                            </div>
                            <div class="col-md-2" ng-class="{'has-error': (endsHolidayOrEventFlag1)}">
                                <select id="select_type" class="form-control" ng-required="shift.setRule" name="endsTypeDropDown"  ng-disabled="!shift.setRule || (shift.defaultTempShift && !canAccess('configureFranchise'))" ng-change="onTypeChangeEnd()" ng-options="endsHolidayOrEvent.title as endsHolidayOrEvent.title for endsHolidayOrEvent in holidayOrEventList" ng-model="begins.endsHolidayOrEvent">
                                    <option value="" ng-show="begins.endsHolidayOrEvent === undefined">{{entity + 'Select'| translate }}</option>
                                </select>
                            </div>
                            <div class="col-md-2" ng-class="{'has-error': (enditemFlag)}">
                                <select class="form-control" name="endsDropDown" ng-required="shift.setRule" ng-options="enditem.title as enditem.title for enditem in listToShowEnd" ng-model="begins.enditem" ng-disabled="!shift.setRule || (shift.defaultTempShift && !canAccess('configureFranchise'))" ng-change="endItemChanged()" ng-blur="tempShiftForm.endsDropDown.$dirty = true">
                                    <option value="" ng-show="listToShowEnd.length === 0">{{entity + 'Select'| translate }}</option>
                                </select>                                  
                            </div>

                        </div>
                        <div class="form-group" ng-show="endsDayCount" ng-class="{'has-error': (endsDayCount)}">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8">
                                <div class="error,help-block" ng-show="endsDayCount">
                                    <span class="help-block" >{{ entity + 'Days for end of duration not entered' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="endsDurationFlag">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8"ng-class="{'has-error':(endsDurationFlag)}">
                                <div class="error,help-block">
                                    <span class="help-block">{{ entity + 'When to end shift not entered' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-if="(endsHolidayOrEventFlag1)">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8" ng-class="{'has-error':(endsHolidayOrEventFlag1)}">
                                <div class="error,help-block">
                                    <span class="help-block">{{ entity + 'Event to end shift not selected' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="enditemFlag">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8" ng-class="{'has-error': (enditemFlag)}">
                                <div class="error,help-block">
                                    <span class="help-block">{{ entity + begins.endsHolidayOrEvent + ' to end shift not selected' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{'has-error': invalidDate && shift.setRule}" ng-show="invalidDate">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8">
                                <div class="error,help-block" ng-show="invalidDate && shift.setRule">
                                    <span class="help-block" >{{ entity + 'enter valid date range' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <!--                        <div class="form-group" ng-show="invalidDate && shift.setRule">
                                                    <div class="col-md-offset-3" ng-class="{'has-error': (invalidDate)}">
                                                        <div class="error,help-block">
                                                            <span class="help-block">{{ entity + 'enter valid date range' | translate}}</span>
                                                        </div>
                                                    </div>
                                                </div>-->
                        <div class="form-group">
                            <div class="col-lg-4 col-md-4 col-sm-8 col-md-offset-3">                      
                                <label class="radio-inline">
                                    <input id="date_range" type="radio" name="radio_shift.setRule" ng-disabled="shift.defaultTempShift && !canAccess('configureFranchise')" ng-value="false" ng-model="shift.setRule" ng-change="setRuleChanged()"/>{{ entity + 'Pick a date range' | translate}}
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-4 col-md-offset-3">
                                <div ng-class="{
                                            'has-error':
                                                    dateRangeNotValid}"> 
                                    <div class="input-group">
                                        <input type="text" id="holidayStartDate" ng-required="!shift.setRule" name="holidayStartDate" class="form-control input-sm" placeholder="{{format}}" datepicker-popup="{{format}}" ng-model="shift.tempShiftFromDate" is-open="datePicker.opened_event_from_date" min="minDate"  datepicker-options="dateOptions" date-disabled="disabled(date, mode)" close-text="Close" ng-change="setMinDate()"/>
                                        <span class="input-group-btn">
                                            <button class="form-control col-md-1 input-sm" ng-click="open($event, 'opened_event_from_date')">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="error,help-block" ng-show="(holidayForm.holidayStartDate.$dirty || submitted) && holidayForm.holidayStartDate.$invalid">
                                        <span class="help-block" ng-show="holidayForm.holidayStartDate.$error.required && !(holidayForm.holidayStartDate.$error.date || holidayForm.holidayStartDate.$error.min || holidayForm.holidayStartDate.$error.max)">
                                            {{ entity + "Start of holiday not selected" | translate }}</span>
                                        <span class="help-block" ng-show="holidayForm.holidayStartDate.$error.date">{{ entity + "Invalid date format" | translate }}</span>
                                        <span class="help-block" ng-show="holidayForm.holidayStartDate.$error.min">{{ entity + "Violates minimum constraint" | translate }}</span>
                                        <span class="help-block" ng-show="holidayForm.holidayStartDate.$error.max">{{ entity + "Violates maximum constraint" | translate }}</span>
                                    </div>
                                </div>
                            </div>
                            <div class='col-md-4'>
                                <div ng-class="{
                                            'has-error'
                                                    : dateRangeNotValid}"> 
                                    <div class="input-group">
                                        <input type="text" id="holidayEndDate" ng-required="!shift.setRule" name="holidayEndDate" class="form-control input-sm" placeholder="{{format}}" datepicker-popup="{{format}}" ng-model="shift.tempShiftEndDate" is-open="datePicker.opened_event_to_date" min="minToDate"  datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="Close"/>
                                        <span class="input-group-btn">
                                            <button class="form-control input-sm" ng-click="open($event, 'opened_event_to_date')">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="error,help-block" ng-show="(holidayForm.holidayEndDate.$dirty || submitted) && holidayForm.holidayEndDate.$invalid">
                                        <span class="help-block" ng-show="holidayForm.holidayEndDate.$error.required && !(holidayForm.holidayEndDate.$error.date || holidayForm.holidayEndDate.$error.min || holidayForm.holidayEndDate.$error.max)">
                                            {{ entity + "Holiday To Date Not Selected" | translate }}</span>
                                        <span class="help-block" ng-show="holidayForm.holidayEndDate.$error.date">{{ entity + "Invalid date format" | translate }}</span>
                                        <span class="help-block" ng-show="holidayForm.holidayEndDate.$error.min">{{ entity + "Violates minimum constraint" | translate }}</span>
                                        <span class="help-block" ng-show="holidayForm.holidayEndDate.$error.max">{{ entity + "Violates maximum constraint" | translate }}</span>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="form-group" ng-class="{'has-error': dateRangeNotValid}" ng-show="dateRangeNotValid">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8">
                                <div class="error,help-block" ng-show="dateRangeNotValid">
                                    <span class="help-block" >{{ entity + 'Shift range not entered' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{'has-error': invalidDate && !shift.setRule}" ng-show="invalidDate">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8">
                                <div class="error,help-block" ng-show="invalidDate && !shift.setRule">
                                    <span class="help-block" >{{ entity + 'enter valid date range' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{'has-error': alreadyCreated}" ng-show="alreadyCreated">
                            <div class="col-md-offset-3 col-lg-4 col-md-4 col-sm-8">
                                <div class="error,help-block" ng-show="alreadyCreated">
                                    <span class="help-block" >{{ entity + 'Shift already created for entered date' | translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group required" ng-show="isEditing && addTempShift">
                            <label for="inputEmail3" class="col-md-3 control-label">{{entity + 'Status'| translate }}</label>
                            <div class="col-lg-4 col-md-4 col-sm-8">
                                <label class="radio-inline">
                                    <input id="radio_temp" type="radio" ng-disabled="shift.defaultTempShift && !canAccess('configureFranchise')" name="radio_Temp_Shift_Active" ng-value="true" ng-model="shift.tempShiftStatus" />{{ entity + 'Active' | translate}}
                                </label>
                                <label class="radio-inline">
                                    <input id="radio_temp1" type="radio" ng-disabled="shift.defaultTempShift && !canAccess('configureFranchise')" name="radio_Temp_Shift_Active" ng-value="false" ng-model="shift.tempShiftStatus"/>{{ entity + 'Remove shift' | translate}}
                                </label>
                            </div>
                        </div>
                        <!--                        <div class="form-group" ng-show=hideDatePicker>
                                                    <input type="text" ng-model="toDateForTempShit" id="holidayStartDate" readonly="true" name="holidayStartDate" class="form-control input-sm" datepicker-popup="{{format}}" is-open="opened" min="minDate"  datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="Close" ng-change="setMinDate()"/>
                                                    <input type="text" ng-model="toDateForTempShit" readonly id="holidayEndDate" name="holidayEndDate" class="form-control input-sm" datepicker-popup="{{format}}" is-open="opened_puc_expires" min="minToDate"  datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="Close"/>
                                                </div>-->
                    </div>
                </form>
            </div>

            <div class="clearfix"></div>
            <div class="col-xs-12" ng-if="!searchPage">

                <div class="row">
                    <hr/>
                    <div class="col-xs-12 pull-right text-right"> <a ng-click="clearData()">Cancel</a>&nbsp;
                        <button class="btn btn-hkg " ng-show="!isEditing && !overRideShiftFlag && !temporaryShift && canAccess('shiftAddEdit')" ng-click="addNewShift(true, shiftManagementForm)">{{ entity + "Add Shift" | translate }}</button>
                        <button class="btn btn-hkg " ng-show="!isEditing && overRideShiftFlag && canAccess('shiftAddEdit')" ng-click="addNewOverRideShift(true, shiftManagementForm)">{{ entity + "Add Override Shift" | translate }}</button>
                        <button class="btn btn-hkg " ng-show="isEditing && overRideShiftFlag && canAccess('shiftAddEdit')" ng-click="saveOverRideShift(true, shiftManagementForm)">{{ entity + "Save Override Shift" | translate }}</button>
                        <button class="btn btn-hkg" ng-show="(!overRideShiftFlag && temporaryShift && canAccess('shiftAddEdit') && shift.defaultTempShift && canAccess('configureFranchise')) || (!overRideShiftFlag && temporaryShift && canAccess('shiftAddEdit') && !shift.defaultTempShift)" ng-click="addTemporaryShift()">{{ entity + "Save Shift" | translate }}</button>
                        <button class="btn btn-hkg" ng-show="(!overRideShiftFlag && isEditing && !temporaryShift && shift.defaultShift && canAccess('configureFranchise') && canAccess('shiftAddEdit')) || (!overRideShiftFlag && isEditing && !temporaryShift && !shift.defaultShift && canAccess('shiftAddEdit'))" ng-click="addNewShift(false)">{{ entity + "Save Shift" | translate }}</button>
                        <!--<button class="btn btn-hkg" ng-show="(isEditing && !temporaryShift && shift.defaultShift && configureDefaultShift && canAccess('shiftAddEdit'))" ng-click="addNewShift(false)">{{ entity + "Save Shift" | translate }}</button>-->
                    </div>
                </div>
            </div>
            <div class="form-group" ng-if="searchPage && !configureDefaultShift">
                <div class="col-xs-12">
                    <div ng-show="!(searchedShiftRecord.length) > 0">
                        <div class="col-lg-12 col-md-12 col-xs-12">
                            <table class="table table-bordered" >
                                <tr>
                                    <td class="col-md-12">
                                        {{ entity + "No records exists.. " | translate }}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <h4 ng-if="searchedShiftRecord.length > 0">{{entity + 'Available Shift'|translate}}</h4>
                    <div class="table-responsive">
                        <div ng-show="searchedShiftRecord.length > 0">
                            <table class="table table-striped table-responsive" cellspacing="0" width="100%" ag-data-table="searchedShiftList">
                                <thead>
                                    <tr>
                                        <th width="40%">{{entity + 'Shift Name'|translate}}</th>
                                        <th width="40%">{{entity + 'Department Name'|translate}}</th>
                                        <th width="20%">{{entity + 'Action'|translate}} On</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="shift in searchedShiftRecord" dt-rows>
                                        <td> <span class="wordRap" ng-bind="shift.shiftName"></span></td>
                                        <td><span class="wordRap" ng-bind="shift.departmentNames"></span></td>
                                        <td align="center" style="padding-right: 65px;"><a><span class="glyphicon glyphicon-edit" ng-click="editShift(shift);" title="Edit"></span></a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>





        <!--</div>-->



        <div class="col-xs-3 tree-bg " ng-show="!configureDefaultShift">
            <div  class="col-xs-12 hkg-scrollableDropDown-tree">
                <span class="glyphicon glyphicon-circle-arrow-down text-hkg "></span>&nbsp;&nbsp;<span class="text-hkg"><strong>Existing shifts:</strong></span>
                <hr class="margin-md"/>
                <div class="col-xs-12">
                    <div class="input-group">
                        <input class="form-control" ng-model='treeSearchQuery' type="text" placeholder="Search"/>
                        <div class="input-group-addon" ><span class="glyphicon glyphicon-search"></span></div>
                    </div>
                </div>
                <!--Tree component starts-->
                <div class="col-xs-12 hkg-nopadding">
                    <br/>
                    <div  ng-show="allShifts && allShifts.length > 0" ng-click='editShift(selectedShift)' 
                          data-angular-treeview="true"
                          data-tree-id="selectedShift"
                          ag-treemodel="allShifts" search-id="searchedShiftTree" entity-name="SHFT_NM."
                          data-search-query='treeSearchQuery'>
                    </div>
                </div>
                <!--Tree component ends--> 
                <div ng-show="!allShifts || allShifts.length === 0">
                    {{entity + 'No shifts exist'|translate}}
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<div>
    <div class="modal fade" role="dialog" id="confirmationPopUp" tabindex="-1" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <a class="close" href="#/manageshift" ng-click="hideConfirmationPopup()">&times;</a>
                    <h4 class="modal-title" id="myModalLabel">{{entity + 'Remove Shift'| translate }}</h4>
                </div >
                <div class="modal-body">
                    <div class="form-group" ng-if="tempShiftNotAvailable && !useresExist">
                        <div class="col-md-12" ng-if="tempShiftNotAvailable && !useresExist && !shift.defaultTempShift && !tempShiftNameInPopUp">
                            {{entity + " \{\{deptName\}\} department will follow the default shift now onwards.Are you sure you want to remove shift \{\{shiftName\}\}?"| translate:{deptName:(deptNameInPopUp | translate),shiftName:(shiftNameInPopUp | translate)} }}
                        </div>
                        <div class="col-md-12" ng-if="tempShiftNotAvailable && !useresExist && !shift.defaultTempShift && tempShiftNameInPopUp">
                            {{entity + " \{\{deptName\}\} department will follow the shift \{\{mainShiftName\}\} now onwards.Are you sure you want to remove shift \{\{tempShiftNameInPopUp\}\}?"| translate:{deptName:(deptNameInPopUp | translate),shiftName:(mainShiftName | translate),tempShift:(tempShiftNameInPopUp | translate)} }}
                        </div>
                        <div class="col-md-12" ng-if="tempShiftNotAvailable && !useresExist && shift.defaultTempShift">
                            {{entity + "\{\{shiftNameInPopUp\}\} shift will follow the default shift now onwards.Are you sure you want to remove shift \{\{shiftNameInPopUp\}\}?"| translate:{shiftName:(shiftNameInPopUp | translate)} }}
                        </div>
                    </div>
                    <div class="form-group" ng-if="!tempShiftNotAvailable && !useresExist">
                        <div class="col-md-12" ng-if="!tempShiftNotAvailable && !useresExist">
                            {{entity + " \{\{deptName\}\} department has a temporary shift/override shift which will be removed. \{\{deptName\}\}  will now follow the default shift now onwards.Are you sure you want to remove shift \{\{shiftName\}\}?"| translate:{deptName:(deptNameInPopUp | translate),shiftName:(shiftNameInPopUp | translate)} }}
                        </div>
                    </div>

                    <div class="form-group" ng-show="useresExist">
                        <div class="col-md-12" ng-show="useresExist">
                            {{entity + "shift cannot be removed. It has active users"| translate }}
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <div class="form-group">
                        <div class="col-xs-12">
                            <div class="pull-right text-right">
                                <a ng-click="hideConfirmationPopup()">Cancel</a>&nbsp;
                                <button class="btn btn-hkg " ng-show="!addDefaultShiftPanel && !useresExist" ng-click="removeTempShift(true)">{{ entity + "Remove" | translate }}</button>
                                <button class="btn btn-hkg " ng-show="addDefaultShiftPanel && !useresExist" ng-click="removeMainShift(true)">{{ entity + "Remove" | translate }}</button>
                                <button class="btn btn-hkg " ng-show="useresExist" ng-click="hideConfirmationPopup()">{{ entity + "Okay" | translate }}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" role="dialog" id="overridePopUp" tabindex="-1" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <a class="close" href="#/manageshift" ng-click="hideOverridePopUpp()">&times;</a>
                <h4 class="modal-title" id="myModalLabel">{{entity + 'Override Shift'| translate }}</h4>
            </div >
            <div class="modal-body">
                <div class="form-group">
                    <div class="col-md-12">
                        {{entity + "Shifts already created for  \{\{deptName\}\}."| translate:{deptName:(ovrDeptNamesString | translate)} }}
                        {{entity + "Would you like to override them with this new shift ?"| translate }}
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="form-group">
                    <div class="col-xs-12">
                        <div class="pull-right text-right"> <a ng-click="hideOverridePopUpp()">No</a>&nbsp;
                            <button class="btn btn-hkg " ng-click="createOsverrideShift()" ng-show="!isEditing">{{ entity + "Yes" | translate }}</button>
                            <button class="btn btn-hkg " ng-click="updateOsverrideShift()" ng-show="isEditing">{{ entity + "Yes" | translate }}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
