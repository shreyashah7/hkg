 
<div class="row">
    <div class="col-xs-12 ">
        <div class="col-xs-12 breadcrumb-bg" >
            <div class="col-xs-12  col-lg-8" >
                <ol class="breadcrumb">
                    <li>{{entity + 'You are here'| translate}}</li>
                    <li>{{entity + 'Manage'| translate}}</li>
                    <li >{{entity + 'Custom Field'|translate}} </li>
                    <li class="active" ng-show="!editCustomField && displayCustomPage !== 'search'">{{entity + 'ADD CUSTOM FIELD'|translate}}</li>
                    <li class="active" ng-show="editCustomField || displayCustomPage === 'search'">{{entity + 'EDIT CUSTOM FIELD'|translate}}</li>                    
                </ol>
            </div>
            <div class="col-xs-12 col-lg-4 text-right context-menu" ng-show="editCustomField || displayCustomPage === 'search'"> 
                <span class="glyphicon glyphicon-plus-sign text-primary" title="{{entity + 'Add '|translate}}" ></span>&nbsp;
                <a style="cursor: pointer" class="pull-right" ng-click="reset();">{{entity + 'ADD CUSTOM FIELD'|translate}}</a>
            </div>
        </div>
        <div class="col-xs-9 new-panel">

            <div class="col-xs-12 col-lg-12 well well-sm ">
                <div class="input-group ">
                    <div id="searchCustomField">

                        <input class="typeahead" type="text" ng-model="customLabel"  placeholder="Search custom field" 
                               ag-search="{{apipath}}customfield/search" 
                               result-format="text" 
                               on-select="retrieveCustomFieldById" 
                               on-enter="getSearchedCustomPages"
                               search-list-array='searchedList'
                               id="searchCustomField" />
                    </div>
                    <span class="input-group-btn">
                        <button class="btn btn-default btn-hkg" ng-click="getSearchedCustomPages(searchedList)" type="button" tooltip-html-unsafe="{{customsearchpopover}}" ><span class="glyphicon glyphicon-search"></span></button>
                    </span> 
                </div>
                <!-- input-group --> 
            </div>
            <div class="clearfix"></div>
            <div id="messages" ng-include src="'templates/messages.html'"></div>
            <div ng-include src="'views/secure/searchedcustomfield.html'" ng-if="displayCustomPage === 'search'"></div>
            <div class="form-group" ng-if="displayCustomPage !== 'search' && !editCustomField">
                <div class="col-md-12">
                    <h4>{{entity + 'Add Custom Field'| translate }}</h4>
                </div>
            </div>
            <div class="form-group" ng-if="displayCustomPage !== 'search' && editCustomField">
                <div class="col-md-12">
                    <h4>{{entity + 'Edit Custom Field'| translate }}</h4>
                </div>
            </div>

            <div ng-show="displayCustomPage !== 'search'" >                

                <div class="">
                    <!--<div class="col-md-12">-->
                    <div ng-form="custom_field" >
                        <form name="custom_field" class="form-horizontal" novalidate>
                            <!--<div class="form-group ">-->
                            <!--<div class="col-md-offset-1 col-md-10">-->                   
                            <!--<div class="row">-->
                            <div class="form-group required">
                                <div class="col-md-3 control-label">
                                    <label  for="label"> {{ entity + "Select Entity" | translate }}  </label>
                                </div>
                                <div class="col-md-7" ng-class="{'has-error': custom_field.select_feature.$invalid && featureSubmited && submittedForm}">
                                    <input type="text" id="select_feature" dynamic-options="true"  ng-disabled="searchFlag"  name="select_feature" ui-select2="select2allFeature" ng-model="customFieldInfo.featureId" class="col-md-6 hkg-nopadding form-control" ng-change = "retrieveSection(customFieldInfo.featureId.id, - 1, true);
                                                        checkEntityIsDiamondAndClearField(customFieldInfo.featureId);" select-by-id="true" required/>
                                    <div class="error,help-block" ng-show="featureSubmited && custom_field.select_feature.$invalid && submittedForm">
                                        <span class="help-block" ng-show="custom_field.select_feature.$error.required">{{ entity + "Feature not selected" | translate }}</span>
                                    </div>
                                </div>
                            </div>
                            <div class=" form-group required"  ng-show="isSectionRequired">
                                <div class="col-md-3 control-label">
                                    <label  for="label"> {{ entity + "Select Section" | translate }}  </label>
                                </div>
                                <div class="col-md-7" ng-class="{'has-error': custom_field.select_section.$invalid && featureSubmited && submittedForm}">
                                    <input type="text" dynamic-options="true" ui-select2="select2Section"  ng-disabled="searchFlag"  id="select_section" name="select_section" class="hkg-nopadding col-md-12 form-control"  ng-model="customFieldInfo.sectionId" ng-click = "retrieveCustomField(customFieldInfo.sectionId, false);" select-by-id="true" required >
                                    <div class="error,help-block" ng-show="custom_field.select_section.$invalid && featureSubmited && submittedForm">
                                        <span class="help-block" ng-show="custom_field.select_section.$error.required">{{ entity + "Section not selected" | translate }}</span>
                                    </div>
                                </div>
                            </div>
                            <!--</div>-->
                            <!--</div>-->
                            <!--</div>-->
                        </form>
                    </div>
                    <!--</div>-->

                    <!--<div class="col-md-12">-->
                    <div ng-form="add_field_form">
                        <form name="add_field_form" class="form-horizontal" novalidate>

                            <div  ng-init="registerLocationChangeEvent(add_field_form)">
                                <!--                        <span class="col-md-3 control-label" > {{ entity + "Validations" | translate }}  </span>
                                                        <span class="col-md-5 control-label" > {{ entity + "Add Validations for the field" | translate }}  </span>-->
                                <!--<div class="col-md-offset-1 col-md-10">-->                   
                                <!--<div class="row">-->
                                <div class=" form-group required">
                                    <div class="col-md-3 control-label">
                                        <label  for="label"> {{ entity + "Field Label" | translate }}  </label>
                                    </div>
                                    <div class="col-md-7" ng-class="{'has-error': (add_field_form.label.$invalid && submittedForm)}">
                                        <input type="text" class="form-control" id="label" name="label" ng-change="isCustomFieldLabelUnique(customField, add_field_form.label, false)" ng-model="customField.label"   maxlength="50" required ng-pattern="/^[a-zA-Z0-9#$_@ ]+$/" />
                                        <div class="error,help-block" ng-show="(add_field_form.label.$invalid && submittedForm)">
                                            <span class="help-block" ng-show="add_field_form.label.$error.required">{{ entity + " Field label not entered" | translate }}</span>
                                            <span class="help-block" ng-show="add_field_form.label.$error.sameValue">{{ entity + customField.label + " already taken" | translate }}</span>
                                            <span class="help-block" ng-show="add_field_form.label.$error.pattern">{{entity + 'Enter valid label'| translate }}</span>
                                        </div>
                                    </div>
                                </div>

                                <div class=" form-group required" >
                                    <div class="col-md-3 control-label">
                                        <label  for="label"> {{ entity + "Field Type" | translate }}  </label>
                                    </div>
                                    <div class="col-md-7"  ng-class="{'has-error': add_field_form.select_fieldType.$invalid && submittedForm}">
                                        <span class="dropdown">
                                            <input ng-model="customField.type"  ng-disabled="searchFlag" name="select_fieldType" class="dropdown-toggle form-control"  readonly required/>
                                            <ul class="dropdown-menu dropdown-menu-width scrollable-menu">
                                                <span ng-model="fieldType" ng-repeat="fieldType in ListOfFields| customFieldTypeFilter : selectedFeatureEntityType" style="cursor: move;" >
                                                    <span ng-show="(($index + 1) % 5 == 1)" >&nbsp; </span> <img ng-src="{{fieldType.img}}"  ng-click="showValueField(fieldType.id);
                                                                changeFieldType();
                                                                checkFieldType();" alt="{{fieldType.id}}" title="{{entity + fieldType.id| translate}}">&nbsp;&nbsp;
                                                    <div ng-show="(($index + 1) % 5 == 0)" class="row">&nbsp; </div>
                                                </span>
                                            </ul>
                                        </span>

                                        <div class="error,help-block" ng-show="(add_field_form.select_fieldType.$invalid && submittedForm)">
                                            <span class="help-block" ng-show="add_field_form.select_fieldType.$error.required">{{ entity + "Field type not selected" | translate }}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class=" form-group required" ng-if="isValueFieldReq && customField.type">
                                    <div class="col-md-3 control-label">
                                        <label  for="label"> {{ entity + "Dropdown Values" | translate }}  </label>
                                    </div>
                                    <div class="col-md-7" ng-class="{'has-error': add_field_form.valuesList.$invalid && submittedForm}">
                                        <input type="text" class="form-control " id="valuesList"  name="valuesList" ng-show="!searchFlag" ng-required="isValueFieldReq" ng-model="customField.values" ng-change="" ng-blur="showValidationModel(add_field_form.label, add_field_form)" placeholder="Comma separated list of values" required/>
                                        <div  ng-show="searchFlag" class="form-control-static"> {{customField.values}}  </div>
                                        <div class="error,help-block" ng-show="add_field_form.valuesList.$invalid && !searchFlag && submittedForm">
                                            <span class="help-block" ng-show="add_field_form.valuesList.$error.required">{{ entity + "Values not entered" | translate }}</span>
                                            <span class="help-block" ng-show="add_field_form.valuesList.$error.sameValue">{{ entity + "Duplicate values entered" | translate }}</span>
                                        </div>  
                                    </div>
                                </div>                               
                                <div class=" form-group">
                                    <div class="col-md-3 control-label">

                                        <label for="labelColor" class="control-label" >{{entity + 'Background color'|translate}}</label>

                                    </div>
                                    <div class="col-md-3" ng-class="{'has-error': (add_field_form.backgroundColor.$invalid)}">
                                        <input colorpicker colorpicker-position="bottom" type="text" ng-model="customFieldValidation.backgroundColor" class="form-control col-md-7" placeholder="{{entity + 'Background color Name'| translate}}" name="backgroundColor"/>

                                    </div>
                                    <div class="col-md-1 ">
                                        <label  for="label"> {{ entity + "Tab Index" | translate }}  </label>
                                    </div>
                                    <div class="col-md-3" ng-class="{'has-error': (add_field_form.sequence.$invalid)}">
                                        <input type="text" class="form-control" id="sequence" name="sequence"  ng-model="customField.seqNo"   maxlength="50"  ng-pattern="/^[0-9]+$/" />
                                        <div class="error,help-block" ng-show="(add_field_form.sequence.$invalid)">
                                            <span class="help-block" ng-show="add_field_form.sequence.$error.pattern">{{entity + 'Enter valid sequence number'| translate }}</span>
                                        </div>
                                    </div>

                                </div>
                                <div class=" form-group" ng-show="showIsPrivate">
                                    <div class="col-md-3 control-label">
                                        <label  for="label"> {{ entity + "Is Private" | translate }}  </label>
                                    </div>
                                    <div class="col-md-7 control-label" style="text-align:left" ng-show="!searchFlag">
                                        <input type="checkbox" id="isPrivate" name="isPrivate"  ng-model="customField.isPrivate"  />
                                    </div>
                                    <div class="col-md-7 control-label" style="text-align:left" ng-show="searchFlag">
                                        <input type="checkbox" id="isPrivate" name="isPrivate"  ng-model="customField.isPrivate" ng-change="changeIsPrivate(customField.isPrivate)"  />
                                    </div>
                                </div>



                                <div ng-if="searchFlag" ng-disabled="isEditable" class="row form-group">
                                    <div class="col-md-3 control-label">
                                        <label for="status"> {{ entity + "Status" | translate }}  </label>
                                    </div>
                                    <div class="col-md-7">
                                        <select class="form-control" ng-disabled="!isEditable" name="status" required id="status" ng-options="count for count in statusList" ng-model="customField.status"> 
                                        </select>
                                    </div>
                                </div>

                                <!--</div>-->
                                <!--</div>-->
                            </div>

                        </form>
                    </div>
                    <!--</div>-->

                    <!-- Code for subentity -->

                    <div  ng-show="selectedFeatureEntityType && isSubEntity && customField.type">
                        <div ng-form="subentityform">
                            <form name="subentityform" class="form-horizontal" novalidate>

                                <!--<div class="form-group">-->
                                <!--<div class="col-md-offset-1 col-md-10">-->                   
                                <!--<div class="row">-->
                                <div class="form-group" >
                                    <div class="col-md-12">
                                        <h4>{{entity + 'SUBENTITY'| translate }}</h4>
                                    </div>
                                </div>

                                <div class=" form-group">
                                    <div class="col-md-3 control-label">
                                        <label for="label"> {{ entity + "Group Field Label" | translate }}  </label>
                                    </div>

                                    <div class="col-md-7" ng-class="{'has-error': (subentityform.label.$invalid && submittedForm)}">
                                        <input type="text" class="form-control" id="label" name="label"  ng-model="subEntity.subFieldLabel" ng-change="checkSubEntityAddFlag()"  maxlength="50" ng-required ng-pattern="/^[a-zA-Z0-9#$_@ ]+$/" />
                                        <div class="error,help-block" ng-show="(subentityform.label.$invalid && submittedForm)">
                                            <span class="help-block" ng-show="subentityform.label.$error.required">{{ entity + " Field label not entered" | translate }}</span>
                                            <span class="help-block" ng-show="subentityform.label.$error.pattern">{{entity + 'Enter valid label'| translate }}</span>
                                        </div>
                                    </div>
                                </div>

                                <div class=" form-group">
                                    <div class="col-md-3 control-label">
                                        <label for="label"> {{ entity + "Group Field Type" | translate }}  </label>
                                    </div>
                                    <div class="col-md-7"  ng-class="{'has-error': subentityform.select_fieldType.$invalid && submittedForm}">
                                        <span class="dropdown">
                                            <input ng-model="subEntity.componentType"   ng-disabled="editDisableSubEntity"  name="select_fieldType" class="dropdown-toggle form-control"  readonly ng-required/>
                                            <ul class="dropdown-menu dropdown-menu-width">

                                                <span ng-model="fieldType" ng-repeat="fieldType in ListOfSubEntityFields" style="cursor: move;" >
                                                    <span ng-show="(($index + 1) % 5 == 1)" >&nbsp; </span> <img ng-src="{{fieldType.img}}"  ng-click="
                                                                showValueFieldForSubEntity(fieldType.id);
                                                                changeFieldType();
                                                                checkSubEntityAddFlag();
                                                                                                                 " alt="{{fieldType.id}}" title="{{entity + fieldType.id| translate}}">&nbsp;&nbsp;
                                                    <div ng-show="(($index + 1) % 5 == 0)" class="row">&nbsp; </div>
                                                </span>
                                            </ul>
                                        </span>

                                        <div class="error,help-block" ng-show="(subentityform.select_fieldType.$invalid && submittedForm)">
                                            <span class="help-block" ng-show="subentityform.select_fieldType.$error.required">{{ entity + "Field type not selected" | translate }}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class=" form-group">
                                    <div class="col-md-3 control-label">
                                        <label> {{ entity + "Is Droplist Field ?" | translate }} </label>
                                    </div>
                                    <div class="col-md-7 control-label" style="text-align:left">
                                        <input type="checkbox" ng-model="subEntity.isDroplistField" ng-change="checkForDropList(subEntity.isDroplistField)"/>
                                    </div>
                                </div>
                                <!--<div class="form-group">-->
                                <div ng-if="subEntity.componentType === 'Number'">
                                    <!--<div  class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>

                                    <!--</div>-->

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Negative Allowed" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 control-label" style="text-align:left" >
                                            <input type="checkbox"  class="form-control-static" ng-model="subEntityCustomFieldValidation.negativeAllowed"  ng-change="checkValidRangeSubEntity(subEntityCustomFieldValidation.negativeAllowed, subEntityCustomFieldValidation.startRange, subEntityCustomFieldValidation.endRange)"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Precision" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" numbers-only name="digitsBefore" placeholder="Digits before"  ng-model="subEntityCustomFieldValidation.digitsBefore" ng-change="checkBeforePrecisionForSubEntity()"/>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" numbers-only name="digitsAfter"  placeholder="Digits after " ng-model="subEntityCustomFieldValidation.digitsAfter" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Range" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6"  ng-class="{'has-error': subentityform.startvalue.$invalid}">
                                                <input type="text" decimalallowed="true" numbers-only negativeallowed="{{negativeAllowedSubEntity}}" name="startvalue" placeholder="Start value " class="form-control" ng-model="subEntityCustomFieldValidation.startRange" ng-change="checkRangeIsValidForSubEntity(subEntityCustomFieldValidation.startRange, subEntityCustomFieldValidation.endRange)"/>

                                                <div class="error,help-block" ng-show=" subentityform.startvalue.$invalid">
                                                    <span class="help-block" ng-show="subentityform.startvalue.$error.negativeAllowedStartSub">{{entity + "Invalid start range"| translate }}</span>
                                                    <span class="help-block" ng-show="subentityform.startvalue.$error.startRangeErrorSub">{{entity + "Start range should be less than end range"| translate }}</span>

                                                </div>
                                            </div>
                                            <div class="col-md-6"   ng-class="{'has-error': subentityform.endvalue.$invalid}">
                                                <input type="text" decimalallowed="true" numbers-only negativeallowed="{{negativeAllowedSubEntity}}" name="endvalue"  placeholder="End value" class="form-control" ng-model="subEntityCustomFieldValidation.endRange" ng-change="checkRangeIsValidForSubEntity(subEntityCustomFieldValidation.startRange, subEntityCustomFieldValidation.endRange)"/>
                                                <div class="error,help-block" ng-show=" subentityform.endvalue.$invalid">
                                                    <span class="help-block" ng-show="subentityform.endvalue.$error.negativeAllowedEndSub">{{entity + "Invalid end range"| translate }}</span>
                                                    <span class="help-block" ng-show="subentityform.endvalue.$error.endRangeErrorSub">{{entity + "End range should be greater than start range"| translate }}</span>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.numberDefaultValue.$invalid}">
                                            <input type="text"  ng-pattern='/^\d+$/ 'name="numberDefaultValue" class="form-control" ng-model="subEntityCustomFieldValidation.defaultValue" />
                                            <div class="error,help-block" ng-show="subentityform.numberDefaultValue.$dirty && validation.numberDefaultValue.$invalid">
                                                <span class="help-block" ng-show="subentityform.$error.pattern">{{entity + "Must be a number"| translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="subEntityCustomFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="subEntityCustomFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="subEntity.componentType === 'Text field'"> 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Max Length" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.maxLength.$invalid || subentityform.maxLength.$error.maxLength}">
                                            <input type="text" numbers-only  name="maxLength" class="form-control" ng-change="minLengthCheckForSubEntity()" ng-model="subEntityCustomFieldValidation.maxLength"/>

                                            <div class="error,help-block" ng-show="subentityform.maxLength.$error.maxLength || subentityform.maxLength.$invalid">
                                                <span class="help-block" ng-show="subentityform.maxLength.$error.maxLength">{{ entity + "Max length should be greater than min Length " | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label> {{ entity + "Min Length" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.minLength.$invalid || subentityform.minLength.$error.minLength}">
                                            <input class="form-control " name="minLength" type="text" numbers-only  ng-change="minLengthCheckForSubEntity()" ng-model="subEntityCustomFieldValidation.minLength" />

                                            <div class="error,help-block" ng-show="subentityform.minLength.$error.minLength || validation.minLength.$invalid">
                                                <span class="help-block" ng-show="subentityform.minLength.$error.minLength">{{ entity + "Min length should be smaller than max Length " | translate }}</span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" maxlength="50" ng-model="subEntityCustomFieldValidation.defaultValue"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Regex Pattern" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (subentityform.$error.regexPattern)}">
                                            <input type="text" class="form-control" name="regexSub" ng-model="subEntityCustomFieldValidation.regex" ng-change="showSubEntitySampleInputTextBox(subEntityCustomFieldValidation.regex); validateSubEntityRegExPattern(subEntitySampleInput, subEntityCustomFieldValidation.regex)"/>
                                            <div class="error,help-block" ng-show="(subentityform.$invalid)">
                                                <span class="help-block" ng-show="subentityform.$error.regexPattern">{{ entity + " Invalid Regular Expression" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group" ng-if="showSubEntitySampleInput">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Sample Input" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (subentityform.subEntitySampleInput.$invalid)}">
                                            <input type="text" name="subEntitySampleInput" class="form-control" ng-model="subEntitySampleInput" ng-change="validateSubEntityRegExPattern(subEntitySampleInput, subEntityCustomFieldValidation.regex)" ng-required="true"/>
                                            <div class="error,help-block" ng-show="(subentityform.subEntitySampleInput.$invalid)">
                                                <span class="help-block" ng-show="subentityform.subEntitySampleInput.$error.required">{{ entity + " Sample input not entered" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" class="form-control-static" ng-model="subEntityCustomFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Masked" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" class="form-control-static" ng-model="subEntityCustomFieldValidation.isMasked"/>
                                        </div>
                                    </div>
                                    <div class="form-group required" ng-if="reloadAllowedTypeForSubEntity">
                                        <div >
                                            <label class="col-md-3 control-label"> {{ entity + "Allowed Type Of Characters" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (subEntityCustomFieldValidation.allowedTypes === undefined || subEntityCustomFieldValidation.allowedTypes.length === 0) && saveSubEntityFlag}">
                                            <input type="text" ui-select2="allowedType"  class="form-control hkg-nopadding" name="allowedTypes" ng-model="subEntityCustomFieldValidation.allowedTypes" required/>
                                            <div class="error,help-block" ng-show="(subEntityCustomFieldValidation.allowedTypes === undefined || subEntityCustomFieldValidation.allowedTypes.length === 0) && saveSubEntityFlag">

                                                <span class="help-block" ng-show="(subEntityCustomFieldValidation.allowedTypes === undefined || subEntityCustomFieldValidation.allowedTypes.length === 0) && saveSubEntityFlag">{{ entity + "Enter Allowed type Of Characters " | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="subEntityCustomFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="subEntity.componentType === 'Text area'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Max Length" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.maxLength.$invalid || subentityform.maxLength.$error.maxLength}">
                                            <input type="text" numbers-only  name="maxLength" class="form-control" ng-change="minLengthCheckForSubEntity()" ng-model="subEntityCustomFieldValidation.maxLength"/>

                                            <div class="error,help-block" ng-show="subentityform.maxLength.$error.maxLength || subentityform.maxLength.$invalid">
                                                <span class="help-block" ng-show="subentityform.maxLength.$error.maxLength">{{ entity + "Max length should be greater than min Length " | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Min Length" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.minLength.$invalid || subentityform.minLength.$error.minLength}">
                                            <input class="form-control " name="minLength" type="text" numbers-only  ng-change="minLengthCheckForSubEntity()" ng-model="subEntityCustomFieldValidation.minLength" />

                                            <div class="error,help-block" ng-show="subentityform.minLength.$error.minLength || validation.minLength.$invalid">
                                                <span class="help-block" ng-show="subentityform.minLength.$error.minLength">{{ entity + "Min length should be smaller than max Length " | translate }}</span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control " ng-model="subEntityCustomFieldValidation.defaultValue"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Regex Pattern" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (subentityform.$error.regexPattern)}">
                                            <input type="text" class="form-control" name="regexSub" ng-model="subEntityCustomFieldValidation.regex" ng-change="showSubEntitySampleInputTextBox(subEntityCustomFieldValidation.regex); validateSubEntityRegExPattern(subEntitySampleInput, subEntityCustomFieldValidation.regex)"/>
                                            <div class="error,help-block" ng-show="(subentityform.$invalid)">
                                                <span class="help-block" ng-show="subentityform.$error.regexPattern">{{ entity + " Invalid Regular Expression" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class=" form-group" ng-if="showSubEntitySampleInput">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Sample Input" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (subentityform.subEntitySampleInput.$invalid)}">
                                            <input type="text" name="subEntitySampleInput" class="form-control" ng-model="subEntitySampleInput" ng-change="validateSubEntityRegExPattern(subEntitySampleInput, subEntityCustomFieldValidation.regex)" ng-required="true"/>
                                            <div class="error,help-block" ng-show="(subentityform.subEntitySampleInput.$invalid)">
                                                <span class="help-block" ng-show="subentityform.subEntitySampleInput.$error.required">{{ entity + " Sample input not entered" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox"  class="form-control-static" ng-model="subEntityCustomFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="subEntityCustomFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="subEntity.componentType === 'Percent'"> 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" class="form-control-static" ng-model="subEntityCustomFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" ng-model="subEntityCustomFieldValidation.defaultValue"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Negative Allowed" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 control-label" style="text-align:left" >
                                            <input type="checkbox"  class="form-control-static" ng-model="subEntityCustomFieldValidation.negativeAllowed"  ng-change="checkValidRangeSubEntity(subEntityCustomFieldValidation.negativeAllowed, subEntityCustomFieldValidation.startRange, subEntityCustomFieldValidation.endRange)"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Precision" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsBefore" placeholder="Digits before" class="form-control" ng-model="subEntityCustomFieldValidation.digitsBefore" ng-change="checkBeforePrecisionForSubEntity()"/>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsAfter"  placeholder="Digits after " class="form-control" ng-model="subEntityCustomFieldValidation.digitsAfter" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Range" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6"  ng-class="{'has-error': subentityform.startvalue.$invalid}">
                                                <input type="text" decimalallowed="true" numbers-only negativeallowed="{{negativeAllowedSubEntity}}" name="startvalue" placeholder="Start value " class="form-control" ng-model="subEntityCustomFieldValidation.startRange" ng-change="checkRangeIsValidForSubEntity(subEntityCustomFieldValidation.startRange, subEntityCustomFieldValidation.endRange)"/>

                                                <div class="error,help-block" ng-show=" subentityform.startvalue.$invalid">
                                                    <span class="help-block" ng-show="subentityform.startvalue.$error.negativeAllowedStartSub">{{entity + "Invalid start range"| translate }}</span>
                                                    <span class="help-block" ng-show="subentityform.startvalue.$error.startRangeErrorSub">{{entity + "Start range should be less than end range"| translate }}</span>

                                                </div>
                                            </div>
                                            <div class="col-md-6"   ng-class="{'has-error': subentityform.endvalue.$invalid}">
                                                <input type="text" decimalallowed="true" numbers-only negativeallowed="{{negativeAllowedSubEntity}}" name="endvalue"  placeholder="End value" class="form-control" ng-model="subEntityCustomFieldValidation.endRange" ng-change="checkRangeIsValidForSubEntity(subEntityCustomFieldValidation.startRange, subEntityCustomFieldValidation.endRange)"/>
                                                <div class="error,help-block" ng-show=" subentityform.endvalue.$invalid">
                                                    <span class="help-block" ng-show="subentityform.endvalue.$error.negativeAllowedEndSub">{{entity + "Invalid end range"| translate }}</span>
                                                    <span class="help-block" ng-show="subentityform.endvalue.$error.endRangeErrorSub">{{entity + "End range should be greater than start range"| translate }}</span>

                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="subEntityCustomFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="subEntity.componentType === 'Date'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Values" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <select ng-model="subEntityCustomFieldValidation.allow" class="form-control">
                                                <option value=""> {{ entity + "All" | translate }} </option>
                                                <option value="onlypast"> {{ entity + "Only Past" | translate }} </option>
                                                <option value="current"> {{ entity + "Only Current" | translate }} </option>
                                                <option value="onlyfuture"> {{ entity + "Only Future" | translate }} </option>
                                                <option value="past"> {{ entity + "Past And Current" | translate }} </option>
                                                <option value="future"> {{ entity + "Current And Future" | translate }} </option>
                                                <option value="onlycurrentmonth"> {{ entity + "Only Current Month" | translate }} </option>
                                            </select>
                                        </div>
                                    </div>
                                    <!--                                    <div class=" form-group">
                                                                            <div class="col-md-3 control-label">
                                                                                <label class=""> {{ entity + "Default Value" | translate }} </label>
                                                                            </div>
                                                                            <div class="col-md-7  control-label" style="text-align:left">
                                                                                <input type="checkbox" ng-model="subEntityCustomFieldValidation.defaultDate"/>
                                                                            </div>
                                                                        </div>-->


                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Allow default date" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox"  ng-model="subEntityCustomFieldValidation.allowDefaultDate" ng-change="allowDefaultdateForSubEntityFunc(subEntityCustomFieldValidation.allowDefaultDate)"/>
                                        </div>
                                    </div>
                                    <!-----{{allowDefaultDate}}-->
                                    <div class=" form-group" ng-if="allowDefaultDateForSubEntity">
                                        <div class="col-md-3 control-label">
                                            <label> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <span class="col-md-2 form-control-static"><label> {{ entity + "Today" | translate }} </label> </span> 
                                            <span class="col-md-4">
                                                <div  ng-class="{'has-error': subEntityCustomFieldValidation.arithmeticOperatorForDateSub.$invalid && requireddefaultNumberForDateFlagSub}">

                                                    <select class="form-control"   name="arithmeticOperatorForDateSub" id="arithmeticOperatorForDateSub" ng-required="requireddefaultNumberForDateFlagSub" ng-model="arithmeticOperatorForDateSub" ng-change="setRequiredForDefaultNumberSub(arithmeticOperatorForDateSub)" ng-options="arithmeticOperator.value as (arithmeticOperator.label) for arithmeticOperator in operatorList">
                                                        <option value="">{{entity + 'None'| translate}}</option>
                                                    </select>
                                                    <div class="error,help-block" ng-show="subEntityCustomFieldValidation.arithmeticOperatorForDateSub.$invalid && requireddefaultNumberForDateFlagSub">
                                                        <span class="help-block" ng-show="subEntityCustomFieldValidation.arithmeticOperatorForDateSub.$invalid && requireddefaultNumberForDateFlagSub">{{ entity + "Select operator" | translate }}</span>
                                                    </div>
                                                </div>
                                            </span>
                                            <span class="col-md-4">
                                                <div ng-if ="requiredDefaultNumberFlagSub"  ng-class="{'has-error': validation.defaultNumberForDate.$invalid && requiredDefaultNumberFlag}">
                                                    <input type ="text" class="form-control" numbers-only name="defaultNumberForDateSub" ng-model="defaultNumberForDateSub"  ng-change="setRequiredForDateOperatorSub(defaultNumberForDateSub)" ng-required="requiredDefaultNumberFlagSub"/>
                                                    <div class="error,help-block" ng-show="subEntityCustomFieldValidation.defaultNumberForDateSub.$invalid && requiredDefaultNumberFlagSub">
                                                        <span class="help-block" ng-show="subEntityCustomFieldValidation.defaultNumberForDateSub.$invalid && requiredDefaultNumberFlagSub">{{ entity + "Select number " | translate }}</span>
                                                    </div>
                                                </div>
                                            </span>
                                            <!--<input type="checkbox" ng-model="customFieldValidation.defaultDate"/>-->
                                        </div>
                                    </div>



                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Include Time" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox"  ng-model="subEntityCustomFieldValidation.includeTime"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="subEntityCustomFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="subEntityCustomFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="subEntity.componentType === 'Email'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Content Limit" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" numbers-only class="form-control"  ng-model="subEntityCustomFieldValidation.maxLength"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (subentityform.subEntityEmail.$error.pattern)}">
                                            <input type="text" name ="subEntityEmail" class="form-control" ng-model="subEntityCustomFieldValidation.defaultValue"  ng-pattern="/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/"/>
                                            <div class="error,help-block" ng-show="subentityform.subEntityEmail.$error.pattern">
                                                <span class="help-block" ng-show="subentityform.subEntityEmail.$error.pattern">{{ entity + " Invalid default value" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Regex Pattern" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (subentityform.$error.regexPattern)}">
                                            <input type="text" class="form-control" name="regexSub" ng-model="subEntityCustomFieldValidation.regex" ng-change="showSubEntitySampleInputTextBox(subEntityCustomFieldValidation.regex); validateSubEntityRegExPattern(subEntitySampleInput, subEntityCustomFieldValidation.regex)"/>
                                            <div class="error,help-block" ng-show="(subentityform.$invalid)">
                                                <span class="help-block" ng-show="subentityform.$error.regexPattern">{{ entity + " Invalid Regular Expression" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group" ng-if="showSubEntitySampleInput">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Sample Input" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (subentityform.subEntitySampleInput.$invalid)}">
                                            <input type="text" name="subEntitySampleInput" class="form-control" ng-model="subEntitySampleInput" ng-change="validateSubEntityRegExPattern(subEntitySampleInput, subEntityCustomFieldValidation.regex)" ng-required="true"/>
                                            <div class="error,help-block" ng-show="(subentityform.subEntitySampleInput.$invalid)">
                                                <span class="help-block" ng-show="subentityform.subEntitySampleInput.$error.required">{{ entity + " Sample input not entered" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="subEntityCustomFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="subEntityCustomFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="subEntity.componentType === 'Phone'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Content Limit" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" numbers-only  class="form-control"  ng-model="subEntityCustomFieldValidation.maxLength"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" ng-model="subEntityCustomFieldValidation.defaultValue"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Regex Pattern" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (subentityform.$error.regexPattern)}">
                                            <input type="text" class="form-control" name="regexSub" ng-model="subEntityCustomFieldValidation.regex" ng-change="showSubEntitySampleInputTextBox(subEntityCustomFieldValidation.regex); validateSubEntityRegExPattern(subEntitySampleInput, subEntityCustomFieldValidation.regex)"/>
                                            <div class="error,help-block" ng-show="(subentityform.$invalid)">
                                                <span class="help-block" ng-show="subentityform.$error.regexPattern">{{ entity + " Invalid Regular Expression" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group" ng-if="showSubEntitySampleInput">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Sample Input" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (subentityform.subEntitySampleInput.$invalid)}">
                                            <input type="text" name="subEntitySampleInput" class="form-control" ng-model="subEntitySampleInput" ng-change="validateSubEntityRegExPattern(subEntitySampleInput, subEntityCustomFieldValidation.regex)" ng-required="true"/>
                                            <div class="error,help-block" ng-show="(subentityform.subEntitySampleInput.$invalid)">
                                                <span class="help-block" ng-show="subentityform.subEntitySampleInput.$error.required">{{ entity + " Sample input not entered" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="subEntityCustomFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': subentityform.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="subEntityCustomFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div class="col-xs-12">
                                    <div class="col-xs-12 pull-right text-right" ng-show="subEntity.type !== null || subEntity.type !== 'undefined'">
                                        <hr/>
                                        <div ng-if="!localEditFlag">
                                            <button class="btn btn-hkg " type="submit" ng-disabled="disableSubEntityAdd" ng-click="saveSubEntity();">{{ entity + "Add" | translate }}</button>
                                        </div>
                                        <div ng-if="localEditFlag">
                                            <button class="btn btn-hkg " type="submit" ng-disabled="disableSubEntityAdd" ng-click="saveSubEntity();">{{ entity + "Update" | translate }}</button>
                                        </div>
                                        <br><br>
                                    </div>
                                </div>
                                <!--</div>-->

                                <!--</div>-->
                                <!--</div>-->
                            </form>
                            <!--</div>-->
                            <div>
                                <div id='subEntutytable' ng-show="subEntityList && (subEntityList.length) > 0 && showTable">
                                    <div class="form-group">
                                        <br/><br/>
                                        <div  class="col-md-12" >
                                            <table class="table" >
                                                <thead >
                                                    <tr>
                                                        <th  width="20%"  style=" white-space: nowrap;"> {{ entity + 'Sr No' | translate}}</th>

                                                        <th  width="20%"  style=" white-space: nowrap;"> {{ entity + 'Field Label' | translate}}</th>
                                                        <th  width="20%" style=" white-space: nowrap;"> {{ entity + 'Type Of field' | translate}}</th>
                                                        <th  width="20%" style=" white-space: nowrap;"> {{ entity + 'DropList field' | translate}}</th>
                                                        <th  width="20%" > <span >{{ entity + 'Action ' | translate}}</span></th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-if="!subEntity.isArchive" ng-repeat="subEntity in subEntityList track by $index" dt-rows>
                                                        <td><span class="wordRap" ng-bind="$index + 1"></span></td>

                                                        <td><span class="wordRap" ng-bind="subEntity.subFieldLabel"></span></td>
                                                        <td><span class="wordRap" ng-bind="subEntity.componentType"></span></td>
                                                        <td><span class="wordRap" ng-bind="subEntity.isDroplistField?subEntity.isDroplistField:false"></span></td>
                                                        <td>
                                                            <a  ng-click="openEditSubentity(subEntity)"><i class="glyphicon glyphicon-edit" title="Edit"></i></a>

                                                            <a ng-show="subEntity.disableArchiveButton === false" ng-click="removeSubEntityFromLocalList($index, subEntity)"><i class="text-danger glyphicon glyphicon-remove" title="Remove"></i></a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table> 
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Code for subentity ends here -->

                    <div class="col-md-12" ng-hide="!isEditable && isSubEntity">
                        <div ng-form="validation">
                            <form name="validation" class="form-horizontal" novalidate>
                                <!--                        <div class="form-group">
                                                            <div class="col-md-offset-1 col-md-10">                   
                                                                <div class="row">
                                                                    <div class="row form-group">
                                                                        <div class="col-md-4">
                                                                            <label class="control-label"> {{ entity + "Validations" | translate }} </label>
                                                                        </div>
                                                                        <div class="col-md-8">
                                                                            <label class="control-label"> {{ entity + "Add Validations for the field" | translate }} </label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>-->
                                <!--<div class="form-group">-->

                                <div ng-if="customField.type === 'Number'" >
                                    <!--<div  class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Negative allowed" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.negativeAllowed" ng-change="checkValidRange(customFieldValidation.negativeAllowed, customFieldValidation.startRange, customFieldValidation.endRange)"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Precision" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsBefore" placeholder="Digits before" class="form-control" ng-model="customFieldValidation.digitsBefore"  ng-change="checkBeforePrecision()"/>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsAfter"  placeholder="Digits after " class="form-control" ng-model="customFieldValidation.digitsAfter" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Range" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6" ng-class="{'has-error': validation.startvalue.$invalid}">

                                                <input type="text" numbers-only decimalallowed="true" negativeallowed="{{negativeAllowed}}" name="startvalue" placeholder="Start value " class="form-control" ng-model="customFieldValidation.startRange" ng-change="checkRangeIsValid(customFieldValidation.startRange, customFieldValidation.endRange)" />
                                                <div class="error,help-block" ng-show="validation.startvalue.$invalid">
                                                    <span class="help-block" ng-show="validation.startvalue.$error.negativeAllowedStart">{{entity + "Invalid start range"| translate }}</span>
                                                    <span class="help-block" ng-show="validation.startvalue.$error.startRangeError">{{entity + "Start range should be less than end range"| translate }}</span>

                                                </div>


                                            </div>
                                            <div class="col-md-6" ng-class="{'has-error': validation.endvalue.$invalid}">
                                                <input type="text" numbers-only decimalallowed="true" negativeallowed="{{negativeAllowed}}" name="endvalue"  placeholder="End value" class="form-control" ng-model="customFieldValidation.endRange" ng-change="checkRangeIsValid(customFieldValidation.startRange, customFieldValidation.endRange)"/>
                                                <div class="error,help-block" ng-show="validation.endvalue.$invalid">
                                                    <span class="help-block" ng-show="validation.endvalue.$error.negativeAllowedEnd">{{entity + "Invalid end range"| translate }}</span>
                                                    <span class="help-block" ng-show="validation.endvalue.$error.endRangeError">{{entity + "End range should be greater than start range"| translate }}</span>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.numberDefaultValue.$invalid}">
                                            <input type="text"  ng-pattern="/^-?[0-9]{1,12}(?:\.[0-9]{1,7})?$/" name="numberDefaultValue" class="form-control" ng-model="customFieldValidation.defaultValue"  maxlength="50" />
                                            <div class="error,help-block" ng-show="validation.numberDefaultValue.$dirty && validation.numberDefaultValue.$invalid">
                                                <span class="help-block" ng-show="validation.$error.pattern">{{entity + "Must be a number"| translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Text field'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Max Length" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.maxLength.$invalid || validation.maxLength.$error.maxLength}">
                                            <input type="text"  maxlength="5"  name="maxLength" class="form-control" numbers-only ng-change="minLengthCheck()"  ng-model="customFieldValidation.maxLength"/>

                                            <div class="error,help-block" ng-show="validation.maxLength.$error.maxLength || validation.maxLength.$invalid">
                                                <span class="help-block" ng-show="validation.maxLength.$error.maxLength">{{ entity + "Max length should be greater than min Length " | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Min Length" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.minLength.$invalid || validation.minLength.$error.minLength}">
                                            <input class="form-control " maxlength="5" name="minLength" type="text" numbers-only  ng-change="minLengthCheck()" ng-model="customFieldValidation.minLength" />

                                            <div class="error,help-block" ng-show="validation.minLength.$error.minLength || validation.minLength.$invalid">
                                                <span class="help-block" ng-show="validation.minLength.$error.minLength">{{ entity + "Min length should be smaller than max Length " | translate }}</span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" ng-model="customFieldValidation.defaultValue" maxlength="50"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Regex Pattern" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (validation.$error.regexPattern)}">
                                            <input type="text" class="form-control" name="regex" ng-model="customFieldValidation.regex" ng-change="showSampleInputTextBox(customFieldValidation.regex); validateRegExPattern(sampleInput, customFieldValidation.regex)"/>
                                            <div class="error,help-block" ng-show="(validation.$invalid)">
                                                <span class="help-block" ng-show="validation.$error.regexPattern">{{ entity + " Invalid Regular Expression" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group" ng-if="showSampleInput">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Sample Input" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (validation.sampleInput.$invalid)}">
                                            <input type="text" name="sampleInput" class="form-control" ng-model="sampleInput" ng-change="validateRegExPattern(sampleInput, customFieldValidation.regex)" ng-required="true"/>
                                            <div class="error,help-block" ng-show="(validation.sampleInput.$invalid)">
                                                <span class="help-block" ng-show="validation.sampleInput.$error.required">{{ entity + " Sample input not entered" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group" ng-if="selectedFeatureEntityType === true">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Uniqueness" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isUnique"/>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-if="customFieldValidation.isUnique">
                                        <div class="col-md-3 control-label">
                                            <label class="">Unique for</label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="col-xs-12 hkg-nopadding" name="uniqueFor" id="uniqueFor" ui-select2="autoCompleteUniqueFor" ng-model="customFieldValidation.uniqueForFields" />

                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Masked" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isMasked"/>
                                        </div>
                                    </div>
                                    <div class=" form-group required">
                                        <div >

                                            <label class="col-md-3 control-label "> {{ entity + "Allowed Type Of Characters" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (customFieldValidation.allowedTypes === undefined || customFieldValidation.allowedTypes.length === 0) && submittedForm}">
                                            <input type="text"  ui-select2="allowedType"  class="form-control hkg-nopadding" name="allowedTypes" ng-model="customFieldValidation.allowedTypes" required/>
                                            <div class="error,help-block" ng-show=" (customFieldValidation.allowedTypes === undefined || customFieldValidation.allowedTypes.length === 0) && submittedForm">
                                                <span class="help-block" ng-show="(customFieldValidation.allowedTypes === undefined || customFieldValidation.allowedTypes.length === 0) && submittedForm">{{ entity + "Enter Allowed type Of Characters " | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>

                                    <!--</div>-->
                                </div>
                                <div ng-if ="customField.type === 'Email'"> 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->

                                    <div class="form-group ">
                                        <div class="col-md-3 control-label">
                                            <label> {{ entity + "Set Content Limit" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" numbers-only class="form-control"  ng-model="customFieldValidation.maxLength"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.numberDefaultValue.$invalid}">
                                            <input type="text"  maxlength="50" ng-pattern="/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/" name="numberDefaultValue" class="form-control" ng-model="customFieldValidation.defaultValue" />
                                            <div class="error,help-block" ng-show="validation.numberDefaultValue.$dirty && validation.numberDefaultValue.$invalid">
                                                <span class="help-block" ng-show="validation.$error.pattern">{{entity + "Invalid default value"| translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Regex Pattern" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (validation.$error.regexPattern)}">
                                            <input type="text" class="form-control" name="regex" ng-model="customFieldValidation.regex" ng-change="showSampleInputTextBox(customFieldValidation.regex); validateRegExPattern(sampleInput, customFieldValidation.regex)"/>
                                            <div class="error,help-block" ng-show="(validation.$invalid)">
                                                <span class="help-block" ng-show="validation.$error.regexPattern">{{ entity + " Invalid Regular Expression" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group" ng-if="showSampleInput">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Sample Input" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (validation.sampleInput.$invalid)}">
                                            <input type="text" name="sampleInput" class="form-control" ng-model="sampleInput" ng-change="validateRegExPattern(sampleInput, customFieldValidation.regex)" ng-required="true"/>
                                            <div class="error,help-block" ng-show="(validation.sampleInput.$invalid)">
                                                <span class="help-block" ng-show="validation.sampleInput.$error.required">{{ entity + " Sample input not entered" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>


                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'MultiSelect'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group" ng-if="reloadDefaultMultiSelect && multiSelect">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text"  class="col-xs-12 hkg-nopadding" name="recipients" id="recipients"   ui-select2="autoCompleteDefaultValue" ng-model="customFieldValidation.defaultValue"/>
                                        </div>
                                    </div>

                                    <div class=" row  form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Display Shortcut Code" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.displayShortcutCode"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Phone'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Content Limit" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" maxlength="10" numbers-only class="form-control" ng-model="customFieldValidation.maxLength"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" maxlength="50" ng-model="customFieldValidation.defaultValue"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Regex Pattern" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (validation.$error.regexPattern)}">
                                            <input type="text" class="form-control" name="regex" ng-model="customFieldValidation.regex" ng-change="showSampleInputTextBox(customFieldValidation.regex); validateRegExPattern(sampleInput, customFieldValidation.regex)"/>
                                            <div class="error,help-block" ng-show="(validation.$invalid)">
                                                <span class="help-block" ng-show="validation.$error.regexPattern">{{ entity + " Invalid Regular Expression" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group" ng-if="showSampleInput">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Sample Input" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (validation.sampleInput.$invalid)}">
                                            <input type="text" name="sampleInput" class="form-control" ng-model="sampleInput" ng-change="validateRegExPattern(sampleInput, customFieldValidation.regex)" ng-required="true"/>
                                            <div class="error,help-block" ng-show="(validation.sampleInput.$invalid)">
                                                <span class="help-block" ng-show="validation.sampleInput.$error.required">{{ entity + " Sample input not entered" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>


                                <div ng-if="customField.type === 'Text area'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Max Length" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.maxLength.$invalid || validation.maxLength.$error.maxLength}">
                                            <input type="text"  name="maxLength" class="form-control" numbers-only ng-change="minLengthCheck()" ng-model="customFieldValidation.maxLength"/>

                                            <div class="error,help-block" ng-show="validation.maxLength.$error.maxLength || validation.maxLength.$invalid">
                                                <span class="help-block" ng-show="validation.maxLength.$error.maxLength">{{ entity + "Max length should be greater than min Length " | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Min Length" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.minLength.$invalid || validation.minLength.$error.minLength}">
                                            <input class="form-control " name="minLength" type="text" numbers-only  ng-change="minLengthCheck()" ng-model="customFieldValidation.minLength" />

                                            <div class="error,help-block" ng-show="validation.minLength.$error.minLength || validation.minLength.$invalid">
                                                <span class="help-block" ng-show="validation.minLength.$error.minLength">{{ entity + "Min length should be smaller than max Length " | translate }}</span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" maxlength="50" class="form-control " ng-model="customFieldValidation.defaultValue"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Regex Pattern" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': (validation.$error.regexPattern)}">
                                            <input type="text" class="form-control" name="regex" ng-model="customFieldValidation.regex" ng-change="showSampleInputTextBox(customFieldValidation.regex); validateRegExPattern(sampleInput, customFieldValidation.regex)"/>
                                            <div class="error,help-block" ng-show="(validation.$invalid)">
                                                <span class="help-block" ng-show="validation.$error.regexPattern">{{ entity + " Invalid Regular Expression" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group" ng-if="showSampleInput">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Enter Sample Input" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': (validation.sampleInput.$invalid)}">
                                            <input type="text" name="sampleInput" class="form-control" ng-model="sampleInput" ng-change="validateRegExPattern(sampleInput, customFieldValidation.regex)" ng-required="true"/>
                                            <div class="error,help-block" ng-show="(validation.sampleInput.$invalid)">
                                                <span class="help-block" ng-show="validation.sampleInput.$error.required">{{ entity + " Sample input not entered" | translate }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label > {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>

                                <div ng-if="customField.type === 'Date'"> 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Values" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <select ng-model="customFieldValidation.allow" class="form-control">
                                                <option value=""> {{ entity + "All" | translate }} </option>
                                                <option value="onlypast"> {{ entity + "Only Past" | translate }} </option>
                                                <option value="current"> {{ entity + "Only Current" | translate }} </option>
                                                <option value="onlyfuture"> {{ entity + "Only Future" | translate }} </option>
                                                <option value="past"> {{ entity + "Past And Current" | translate }} </option>
                                                <option value="future"> {{ entity + "Current And Future" | translate }} </option>
                                                <option value="onlycurrentmonth"> {{ entity + "Only Current Month" | translate }} </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Allow default date" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox"  ng-model="customFieldValidation.allowDefaultDate" ng-change="allowDefaultdate(customFieldValidation.allowDefaultDate)"/>
                                        </div>
                                    </div>
                                    <!-----{{allowDefaultDate}}-->
                                    <div class=" form-group" ng-if="allowDefaultDate">
                                        <div class="col-md-3 control-label">
                                            <label> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <!--<span class="col-md-2 form-control-static"><label> {{ entity + "Today" | translate }} </label> </span>--> 
                                            <div class="col-md-4">
                                                <input type="text" class="col-xs-12 hkg-nopadding" name="today" id="today" ui-select2="autoCompleteDateFor" ng-model="customFieldValidation.todayDate" />

                                            </div>




                                            <span class="col-md-4">
                                                <div  ng-class="{'has-error': validation.arithmeticOperatorForDate.$invalid && requireddefaultNumberForDateFlag}">
                                                    <select class="form-control"   name="arithmeticOperatorForDate" id="arithmeticOperatorForDate" ng-required="requireddefaultNumberForDateFlag" ng-model="arithmeticOperatorForDate" ng-change="setRequiredForDefaultNumber(arithmeticOperatorForDate)" ng-options="arithmeticOperator.value as (arithmeticOperator.label) for arithmeticOperator in operatorList">
                                                        <option value="">{{entity + 'None'| translate}}</option>
                                                    </select>
                                                    <div class="error,help-block" ng-show="validation.arithmeticOperatorForDate.$invalid && requireddefaultNumberForDateFlag">
                                                        <span class="help-block" ng-show="validation.arithmeticOperatorForDate.$invalid && requireddefaultNumberForDateFlag">{{ entity + "Select operator" | translate }}</span>
                                                    </div>
                                                </div>
                                            </span>
                                            <span class="col-md-4">
                                                <div ng-show="requiredDefaultNumberFlag"  ng-class="{'has-error': validation.defaultNumberForDate.$invalid && requiredDefaultNumberFlag}">
                                                    <input class="form-control"  name="defnum" id="defnum" ng-model="defaultNumberForDate"   ag-selectizedate="selectizeOptionsForDateField" options="dateoptions" ng-change="setRequiredForDateOperator(defaultNumberForDate)" ng-required="requiredDefaultNumberFlag"/>                                           

                                                    <!--<input type ="text" class="form-control" numbers-only name="defaultNumberForDate" ng-model="defaultNumberForDate"  ng-change="setRequiredForDateOperator(defaultNumberForDate)" ng-required="requiredDefaultNumberFlag"/>-->
                                                    <div class="error,help-block" ng-show="validation.defaultNumberForDate.$invalid && requiredDefaultNumberFlag">
                                                        <span class="help-block" ng-show="validation.defaultNumberForDate.$invalid && requiredDefaultNumberFlag">{{ entity + "Select number " | translate }}</span>
                                                    </div>
                                                </div>
                                            </span>




                                        </div>
                                    </div>

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Skip holidays" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox"  ng-model="customFieldValidation.skipHolidays"/>
                                        </div>
                                    </div>


                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Include Time" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox"  ng-model="customFieldValidation.includeTime"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>

                                <div ng-if="customField.type === 'Date range'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Values" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <select ng-model="customFieldValidation.allow" class="form-control">
                                                <option value=""> {{ entity + "All" | translate }} </option>
                                                <option value="onlypast"> {{ entity + "Only Past" | translate }} </option>
                                                <option value="current"> {{ entity + "Only Current" | translate }} </option>
                                                <option value="onlyfuture"> {{ entity + "Only Future" | translate }} </option>
                                                <option value="past"> {{ entity + "Past And Current" | translate }} </option>
                                                <option value="future"> {{ entity + "Current And Future" | translate }} </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-8  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.defaultDate"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Include Time" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.includeTime"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Currency'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Negative allowed" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.negativeAllowed" ng-change="checkValidRange(customFieldValidation.negativeAllowed, customFieldValidation.startRange, customFieldValidation.endRange)"/>
                                        </div>
                                    </div>
                                    <div class="form-group required">
                                        <div class="col-md-3 control-label">
                                            <label for="label"> {{ entity + "Currency " | translate }}  </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': add_field_form.select_CurrencyFieldType.$invalid && submittedForm}">
                                            <select id="select_CurrencyFieldType" name="select_CurrencyFieldType" class="form-control col-md-12" ng-options="currency.value as currency.label for currency in allcurrencyList"   ng-model="customFieldValidation.currencyCode" required>
                                                <option value="">Select </option>
                                            </select>
                                            <div class="error,help-block" ng-show="add_field_form.select_CurrencyFieldType.$invalid && submittedForm">
                                                <span class="help-block" ng-show="add_field_form.select_CurrencyFieldType.$error.required">{{ entity + "Currency type not entered" | translate }}</span>
                                                <span class="help-block" ng-show="add_field_form.select_CurrencyFieldType.$error.sameValue">{{ entity + "Duplicate values entered" | translate }}</span>
                                            </div> 
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Precision" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsBefore" placeholder="Digits before" class="form-control" ng-model="customFieldValidation.digitsBefore"  ng-change="checkBeforePrecision()"/>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsAfter"  placeholder="Digits after " class="form-control" ng-model="customFieldValidation.digitsAfter" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Range" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6" ng-class="{'has-error': validation.startvalue.$invalid}">

                                                <input type="text" numbers-only decimalallowed="true" negativeallowed="{{negativeAllowed}}" name="startvalue" placeholder="Start value " class="form-control" ng-model="customFieldValidation.startRange" ng-change="checkRangeIsValid(customFieldValidation.startRange, customFieldValidation.endRange)" />
                                                <div class="error,help-block" ng-show=" validation.startvalue.$invalid">
                                                    <span class="help-block" ng-show="validation.startvalue.$error.negativeAllowedStart">{{entity + "Invalid start range"| translate }}</span>
                                                    <span class="help-block" ng-show="validation.startvalue.$error.startRangeError">{{entity + "Start range should be less than end range"| translate }}</span>

                                                </div>


                                            </div>
                                            <div class="col-md-6" ng-class="{'has-error': validation.endvalue.$invalid}">
                                                <input type="text" numbers-only decimalallowed="true" negativeallowed="{{negativeAllowed}}" name="endvalue"  placeholder="End value" class="form-control" ng-model="customFieldValidation.endRange" ng-change="checkRangeIsValid(customFieldValidation.startRange, customFieldValidation.endRange)"/>
                                                <div class="error,help-block" ng-show=" validation.endvalue.$invalid">
                                                    <span class="help-block" ng-show="validation.endvalue.$error.negativeAllowedEnd">{{entity + "Invalid end range"| translate }}</span>
                                                    <span class="help-block" ng-show="validation.endvalue.$error.endRangeError">{{entity + "End range should be greater than start range"| translate }}</span>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" maxlength="10" ng-model="customFieldValidation.defaultValue"/>
                                        </div>
                                    </div>                                    
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label for="symbolPosition">
                                                {{ entity + 'Symbol Position' | translate}}
                                            </label>
                                        </div>
                                        <div class="col-md-7"> 
                                            <label class="radio-inline">
                                                <span >######</span>
                                                <input type="radio" name="radio_Active" value="true" ng-model="customFieldValidation.currencySymbolPosition" />{{ entity + 'Prefix' | translate}}
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="radio_Active" value="false" ng-model="customFieldValidation.currencySymbolPosition"/>{{ entity + 'Suffix' | translate}}
                                                <span >######</span>
                                            </label>

                                            <label class="radio-inline">
                                                <input type="radio" name="radio_Active" ng-value="noshow" ng-model="customFieldValidation.currencySymbolPosition"/>{{ entity + "Don't Show" | translate}}

                                            </label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label for="symbolSize">
                                                {{ entity + 'Symbol Size' | translate}}
                                            </label>
                                        </div>
                                        <div class="col-md-7"> 
                                            <label class="radio-inline">
                                                <input type="radio" name="radio_Active" value="smallCurrency" ng-model="customFieldValidation.currencySymbolSize" />{{ entity + 'Small' | translate}}
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="radio_Active" value="largeCurrency" ng-model="customFieldValidation.currencySymbolSize"/>{{ entity + 'large' | translate}}
                                            </label>

                                            
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">

                                            <label for="displayFormat" >
                                                {{ entity + 'Display Format' | translate}}
                                            </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.displayFormat.$invalid && (validation.displayFormat.$dirty || submitted)}"> 
                                            <div class="input-group">
                                                <input type='text'  whitespace="whitespace" placeholder="only # , . are allowed" ng-model="customFieldValidation.currencyFormat"  id="displayFormat" name="displayFormat" class="form-control"  maxlength="100" ng-change="checkPattern(customFieldValidation.format)" ng-pattern="/^[#.,0]*$/"/>
                                                <span class="input-group-addon"><span class="glyphicon glyphicon-info-sign"  tooltip-html-unsafe="{{displayFormat}}"  tooltip-trigger="mouseenter" tooltip-placement="right"></span>
                                                </span>
                                            </div>
                                            <div class="error,help-block" ng-show="(validation.displayFormat.$dirty || submitted) && validation.displayFormat.$invalid">
                                                <span class="help-block" ng-show="validation.displayFormat.$error">{{ entity + 'Display format is not valid' | translate}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Exchange rate'" > 
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <div class="form-group required">
                                        <div class="col-md-3 control-label">
                                            <label for="label"> {{ entity + "Currency " | translate }}  </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': add_field_form.select_CurrencyFieldType.$invalid && submittedForm}">
                                            <select id="select_CurrencyFieldType" name="select_CurrencyFieldType" class="form-control col-md-12" ng-options="currency.value as currency.label for currency in allcurrencyList"   ng-model="customFieldValidation.currencyCode" required>
                                                <option value="">Select </option>
                                            </select>
                                            <div class="error,help-block" ng-show="add_field_form.select_CurrencyFieldType.$invalid && submittedForm">
                                                <span class="help-block" ng-show="add_field_form.select_CurrencyFieldType.$error.required">{{ entity + "Currency type not entered" | translate }}</span>
                                                <span class="help-block" ng-show="add_field_form.select_CurrencyFieldType.$error.sameValue">{{ entity + "Duplicate values entered" | translate }}</span>
                                            </div> 
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                </div>
                                <div ng-if="customField.type === 'Percent'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Negative allowed" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.negativeAllowed" ng-change="checkValidRange(customFieldValidation.negativeAllowed, customFieldValidation.startRange, customFieldValidation.endRange)"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Precision" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsBefore" placeholder="Digits before" class="form-control" ng-model="customFieldValidation.digitsBefore"  ng-change="checkBeforePrecision()"/>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsAfter"  placeholder="Digits after " class="form-control" ng-model="customFieldValidation.digitsAfter" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Range" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6" ng-class="{'has-error': validation.startvalue.$invalid}">

                                                <input type="text" numbers-only decimalallowed="true" negativeallowed="{{negativeAllowed}}" name="startvalue" placeholder="Start value " class="form-control" ng-model="customFieldValidation.startRange" ng-change="checkRangeIsValid(customFieldValidation.startRange, customFieldValidation.endRange)" />
                                                <div class="error,help-block" ng-show="validation.startvalue.$invalid">
                                                    <span class="help-block" ng-show="validation.startvalue.$error.negativeAllowedStart">{{entity + "Invalid start range"| translate }}</span>
                                                    <span class="help-block" ng-show="validation.startvalue.$error.startRangeError">{{entity + "Start range should be less than end range"| translate }}</span>

                                                </div>


                                            </div>
                                            <div class="col-md-6" ng-class="{'has-error': validation.endvalue.$invalid}">
                                                <input type="text" numbers-only decimalallowed="true" negativeallowed="{{negativeAllowed}}" name="endvalue"  placeholder="End value" class="form-control" ng-model="customFieldValidation.endRange" ng-change="checkRangeIsValid(customFieldValidation.startRange, customFieldValidation.endRange)"/>
                                                <div class="error,help-block" ng-show=" validation.endvalue.$invalid">
                                                    <span class="help-block" ng-show="validation.endvalue.$error.negativeAllowedEnd">{{entity + "Invalid end range"| translate }}</span>
                                                    <span class="help-block" ng-show="validation.endvalue.$error.endRangeError">{{entity + "End range should be greater than start range"| translate }}</span>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" maxlength="50" ng-model="customFieldValidation.defaultValue"/>
                                        </div>
                                    </div>

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Angle'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Negative allowed" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.negativeAllowed" ng-change="checkValidRange(customFieldValidation.negativeAllowed, customFieldValidation.startRange, customFieldValidation.endRange)"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Set Precision" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsBefore" placeholder="Digits before" class="form-control" ng-model="customFieldValidation.digitsBefore" ng-change="checkBeforePrecision()"/>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" numbers-only name="digitsAfter"  placeholder="Digits after " class="form-control" ng-model="customFieldValidation.digitsAfter" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Range" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 row">
                                            <div class="col-md-6"  ng-class="{'has-error': validation.startvalue.$invalid || validation.startvalue.$error.startvalue}">
                                                <input type="text" numbers-only negativeallowed="{{negativeAllowed}}" decimalallowed="true" name="startvalue" placeholder="Start value " class="form-control" ng-model="customFieldValidation.startRange" ng-change="checkAngleStartRange(customFieldValidation.startRange); checkRangeIsValid(customFieldValidation.startRange, customFieldValidation.endRange)"/>

                                                <div class="error,help-block" ng-show="validation.startvalue.$error || validation.startvalue.$invalid">
                                                    <span class="help-block" ng-show="validation.startvalue.$error.startvalue">{{ entity + "Range should be between 0 to 360 " | translate }}</span>
                                                    <span class="help-block" ng-show="validation.startvalue.$error.negativeAllowedStart">{{entity + "Invalid start range"| translate }}</span>
                                                    <span class="help-block" ng-show="validation.startvalue.$error.startRangeError">{{entity + "Start range should be less than end range"| translate }}</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6" ng-class="{'has-error': validation.endvalue.$invalid || validation.endvalue.$error.endvalue}">
                                                <input type="text" numbers-only negativeallowed="{{negativeAllowed}}" decimalallowed="true" name="endvalue"  placeholder="End value" class="form-control" ng-model="customFieldValidation.endRange" ng-change="checkAngleEndRange(customFieldValidation.endRange); checkRangeIsValid(customFieldValidation.startRange, customFieldValidation.endRange)" />
                                                <div class="error,help-block" ng-show="validation.endvalue.$error || validation.endvalue.$invalid">
                                                    <span class="help-block" ng-show="validation.endvalue.$error.endvalue">{{ entity + "Range should be between 0 to 360 " | translate }}</span>
                                                    <span class="help-block" ng-show="validation.endvalue.$error.negativeAllowedEnd">{{entity + "Invalid end range"| translate }}</span>
                                                    <span class="help-block" ng-show="validation.endvalue.$error.endRangeError">{{entity + "End range should be greater than start range"| translate }}</span>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class=" form-group">

                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" maxlength="10" ng-model="customFieldValidation.defaultValue"/>
                                        </div>
                                    </div>

                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>

                                <div  ng-if="customField.type === 'Upload'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <!--                                    <div class=" form-group">
                                                                            <div class="col-md-3 control-label">
                                                                                <label class=""> {{ entity + "Upload path" | translate }} </label>
                                                                            </div>
                                                                            <div class="col-md-7">
                                                                                <input class="form-control" type="text" ng-model="customFieldValidation.uploadPath"/>
                                                                            </div>
                                                                        </div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "File Type" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <select class="form-control" ng-options="itr.allowFileType as itr.allowFileType for itr in fileTypes" ng-model="customFieldValidation.allowFileType" ng-change="allowFileTypeChanged(customFieldValidation.allowFileType)">
                                                <option value="" ng-show="customFieldValidation.allowFileType === undefined">{{entity + 'Select'| translate }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class=" form-group" ng-show="fileTypeList" ng-class="{'has-error': validation.othertype.$invalid && (validation.othertype.$dirty || submitted)}"> 
                                        <div class="col-md-6 col-md-offset-4" >
                                            <input class="form-control" id="othertype" name="othertype" ng-required="customFieldValidation.allowFileType==='Other'" type="text" name ="allowFileTypeList" id ="allowFileTypeList" ng-model="type.allowFileTypeList" placeholder="Enter comma separated values" ng-pattern='/^[a-zA-Z0-9,. ]*$/'/>
                                            <div class="error,help-block" ng-show="(validation.othertype.$dirty || submitted) && validation.othertype.$invalid">
                                                <span class="help-block" ng-show="validation.othertype.$error.pattern">{{ entity + 'File extension is not valid' | translate}}</span>
                                                <span class="help-block" ng-show="validation.othertype.$error.required">{{ entity + 'Enter File extension ' | translate}}</span>

                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Max File Size" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <span class="form-group col-md-11" ng-class="{'has-error': validation.maxFileSize.$invalid}"> 
                                                <input class="form-control col-md-6" id="maxFileSize" name="maxFileSize" min="0" type="number" max="100" ng-change="checkSizeOfFile(customFieldValidation.maxFileSize)" ng-model="customFieldValidation.maxFileSize"/>
                                                <div class="error,help-block" ng-show="(validation.maxFileSize.$invalid)">
                                                    <span class="help-block" ng-show="validation.maxFileSize.$error">{{ entity + 'Invalid file size and maximum file size is 100MB'| translate}}</span>
                                                </div>
                                            </span>
                                            <span class="col-md-1" >
                                                <label class="form-control-static"> {{ entity + "MB" | translate }} </label>
                                            </span>
                                        </div>

                                    </div> 
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Upload Multiple Files" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.allowMultipleFile"/>
                                        </div>
                                    </div>
                                    <!--                                                        <div class="row form-group">
                                                                                                <div class="col-md-4">
                                                                                                    <label class="control-label"> {{ entity + "Select multiple files at a time" | translate }} </label>
                                                                                                </div>
                                                                                                <div class="col-md-8">
                                                                                                    <input type="checkbox" ng-model="customFieldValidation.allowToSelectMultipleFileAtATime"/>
                                                                                                </div>
                                                                                            </div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>

                                <div  ng-if="customField.type === 'Image'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>                                  
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Checkbox'"> 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Checkbox Position" | translate }} </label>
                                        </div>

                                        <div class="col-md-7">
                                            <label class="radio-inline">
                                                <input type="radio" name="formatValue" id="formatValue1" value="before" ng-model="customFieldValidation.formatValue">
                                                {{entity + 'Before Label'| translate}} </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="formatValue" id="formatValue2" value="after" ng-model="customFieldValidation.formatValue">
                                                {{entity + 'After Label'| translate}} </label>
                                        </div>

                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.defaultValue"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'UserMultiSelect' && isUserMultiSelect" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->

                                    <div class=" form-group required">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Allowed Type" | translate }} </label>
                                        </div>
                                        <div class="col-md-7"  ng-class="{'has-error': validation.recipients.$error.required && submittedForm}">

                                            <input type="text" class="col-xs-12 hkg-nopadding" name="recipients" id="recipients" ng-required="true" required ui-select2="autoCompleteUserMultiSelect" ng-model="customFieldValidation.defaultValue" ng-change="showComboForEmployee(customFieldValidation.defaultValue)"/>
                                            <div class="error,help-block" ng-show="validation.recipients.$error.required && submittedForm">
                                                <span class="help-block" ng-show="validation.recipients.$error.required">
                                                    {{ entity + "Select Allowed Type " | translate }}      
                                                </span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group" ng-if="showComboForDepOrDesg"> 
                                        <div class="col-md-3 control-label">
                                            <label class="">{{"Select"}}</label>
                                        </div>
                                        <div class="col-md-7">
                                            <select ng-options="usrlist.id as usrlist.text for usrlist  in listForUserMultiSelect" class="form-control" ng-model="customFieldValidation.selectedParameter" ng-change="setDeptOrDesgList(customFieldValidation.selectedParameter)">
                                                <option value="">Select </option></select>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-if="showDeptList">
                                        <div class="col-md-3 control-label">
                                            <label class="">Department</label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="col-xs-12 hkg-nopadding" name="dept" id="dept" ng-required="true" required ui-select2="autoCompleteDept" ng-model="customFieldValidation.deptList" />
                                            <div class="error,help-block" ng-show="validation.dept.$error.required && submittedForm">
                                                <span class="help-block" ng-show="validation.dept.$error.required">
                                                    {{ entity + "Select Department " | translate }}      
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-if="showDesgList">
                                        <div class="col-md-3 control-label" ng-if="showDesgList">
                                            <label class="">Designation</label>
                                        </div>
                                        <div class="col-md-7">
                                            <input type="text" class="col-xs-12 hkg-nopadding" name="desg" id="desg" ng-required="true" required ui-select2="autoCompleteDesg" ng-model="customFieldValidation.desgList" />
                                            <div class="error,help-block" ng-show="validation.desg.$error.required && submittedForm">
                                                <span class="help-block" ng-show="validation.desg.$error.required">
                                                    {{ entity + "Select Designation " | translate }}      
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Allow Multiple Select" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left" >
                                            <input type="checkbox" name="" ng-model="customFieldValidation.isMultiSelect"/>

                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Dropdown'" > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Default Value" | translate }} </label>
                                        </div>
                                        <div class="col-md-7">
                                            <select id="dropdown" class="form-control" ng-model="customFieldValidation.defaultValue" ng-options="value.id as value.label for value in enteredValuesInDropdown">
                                                <option value="">Select </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Display Shortcut Code" | translate }} </label>
                                        </div>
                                        <div class="col-md-7 control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.displayShortcutCode"/>
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Pointer'"  > 
                                    <!--<div class="row">-->
                                    <!--<div class="row">-->
                                    <div class="form-group" >
                                        <div class="col-md-12">
                                            <h4>{{entity + 'Validations'| translate }}</h4>
                                        </div>
                                    </div>
                                    <!--</div>-->
                                    <div class="form-group required">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Pointer Entity" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-if="reloadPointer"  ng-class="{'has-error': validation.pointer.$error.required }">
                                            <!--<div ng-class="{'has-error': validation.pointer.$error.required }">-->
                                            <input class="form-control"  name="pointer" id="pointer" ng-model="customFieldValidation.pointer"   ag-selectizepointer="selectizeOptionsForPointer" options="options" required/>                                           
                                            <div class="error,help-block" ng-show="validation.pointer.$error.required">
                                                <span class="help-block" ng-show="validation.pointer.$error.required">
                                                    {{ entity + "Select Pointer Entity" | translate }}      
                                                </span>
                                            </div>
                                            <!--</div>-->
                                        </div>
                                    </div>
                                    <div class=" form-group">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Required" | translate }} </label>
                                        </div>
                                        <div class="col-md-7  control-label" style="text-align:left">
                                            <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                        </div>
                                    </div>
                                    <div class=" form-group ">
                                        <div class="col-md-3 control-label">
                                            <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                        </div>
                                        <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                            <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                                <div ng-if="customField.type === 'Formula'"  ng-form="formulaConfigForm"> 
                                    <div class="row">
                                        <div class="form-group" >
                                            <div class="col-md-12">
                                                <h4>{{entity + 'Validations'| translate }}</h4>
                                            </div>
                                        </div>




                                        <div  ng-if="reloadFormula"> 
                                            <form method="POST" class="form-horizontal" name="formulaConfigForm" novalidate>
                                                <!--<label for="input-sortable">Formula:</label>-->

                                                <div class="form-group ">
                                                    <div class="col-md-3 control-label">
                                                        <label for="input-sortable"> {{ entity + "Formula " | translate }} </label>
                                                        &nbsp;  <span class="glyphicon glyphicon-question-sign"  tooltip-html-unsafe="{{mathHint}}"  tooltip-trigger="mouseenter" tooltip-placement="right"></span>

                                                    </div>
                                                    <div class="col-md-7"  ng-class="{'has-error': formulaConfigForm.formula.$invalid}">
                                                        <input class="form-control" ng-keypress="keyCallbackMin()" placeholder="Configure Formula..." name="formula" id="formula" ng-model="customFieldValidation.formula"   ag-selectize="selectizeOptions" options="options" ng-change="validateFormula(formulaConfigForm)" required/>
                                                        <div class="error,help-block" ng-show="(formulaConfigForm.formula.$dirty) && formulaConfigForm.formula.$invalid">
                                                            <span class="help-block" ng-show="formulaConfigForm.formula.$error.invalidFormula">
                                                                Invalid Formula
                                                            </span>


                                                        </div>
                                                        <div class="error,help-block" ng-show=" formulaConfigForm.formula.$invalid && submittedForm" >

                                                            <span class="help-block" ng-show="formulaConfigForm.formula.$error.required">
                                                                {{ entity + "Select Formula" | translate }}      
                                                            </span>

                                                        </div>
                                                    </div>
                                                </div>


                                                <!--                                                <div class="form-group">
                                                                                                    <div >
                                                
                                                                                                        <input class="form-control" ng-keypress="keyCallbackMin()" placeholder="Configure Formula..." name="formula" id="formula" ng-model="customFieldValidation.formula"   ag-selectize="selectizeOptions" options="options" ng-change="validateFormula(formulaConfigForm)" required/>
                                                                                                    </div>
                                                                                                    <div ng-class="{'has-error': formulaConfigForm.formula.$invalid}">
                                                                                                        <div class="error,help-block" ng-show="(formulaConfigForm.formula.$dirty) && formulaConfigForm.formula.$invalid">
                                                                                                            <span class="help-block" ng-show="formulaConfigForm.formula.$error.invalidFormula">
                                                                                                                Invalid Formula
                                                                                                            </span>
                                                
                                                
                                                                                                        </div>
                                                                                                        <div class="error,help-block" ng-show=" formulaConfigForm.formula.$invalid && submittedForm" >
                                                
                                                                                                            <span class="help-block" ng-show="formulaConfigForm.formula.$error.required">
                                                                                                                {{ entity + "Select Formula" | translate }}      
                                                                                                            </span>
                                                
                                                                                                        </div>
                                                
                                                
                                                
                                                                                                    </div>
                                                                                                </div>-->

                                                <!--                                                <div class="form-group">
                                                                                                    <button type="button" ng-click="saveFormula()"  class="btn btn-default">Test Formula</button>
                                                                                                </div>-->
                                            </form>

                                        </div>
                                        <!--                                        <div class=" form-group">
                                                                                    <div class="col-md-4">
                                                                                        <label class="control-label"> {{ entity + "Required" | translate }} </label>
                                                                                    </div>
                                                                                    <div class="col-md-8  control-label" style="text-align:left">
                                                                                        <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                                                                    </div>
                                                                                </div>-->
                                        <div class=" form-group">
                                            <div class="col-md-3 control-label">
                                                <label class=""> {{ entity + "Hint Message" | translate }} </label>
                                            </div>
                                            <div class="col-md-7" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                                <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                            </div>
                                        </div>

                                        <div class="  form-group ">
                                            <div class="col-md-3 control-label">
                                                <label class=""> {{ entity + "Round To" | translate }} </label>
                                            </div>
                                            <div class="col-md-7" ng-class="{'has-error': validation.roundTo.$invalid}">
                                                <input type="text" numbers-only name="roundTo"  class="form-control" ng-model="customFieldValidation.roundTo" />

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div ng-if="customField.type === 'Radio button'" class="col-md-offset-1 col-md-10"> 
                                    <div class="row">
                                        <div class="row">
                                            <span class="h5"> {{ entity + "Validations" | translate }} </span>
                                            <fieldset class="hkg-fieldset">
                                            </fieldset>
                                            <div class="row">&nbsp;</div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Default Value" | translate }} </label>
                                            </div>
                                            <div class="col-md-8">
                                                <select id="dropdown" class="form-control" ng-model="customFieldValidation.defaultValue" ng-options="value.id as value.label for value in enteredValuesInDropdown">
                                                    <option value="">Select </option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Required" | translate }} </label>
                                            </div>
                                            <div class="col-md-8  control-label" style="text-align:left">
                                                <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Hint Message" | translate }} </label>
                                            </div>
                                            <div class="col-md-8" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                                <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div  ng-if="customField.type === 'Time'" class="col-md-offset-1 col-md-10"> 
                                    <div class="row">
                                        <div class="row">
                                            <span class="h5"> {{ entity + "Validations" | translate }} </span>
                                            <fieldset class="hkg-fieldset">
                                            </fieldset>
                                            <div class="row">&nbsp;</div>
                                        </div>

                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Default Value" | translate }} </label>
                                            </div>
                                            <div class="col-md-8  control-label" style="text-align:left">
                                                <input type="checkbox" ng-model="customFieldValidation.defaultTime"/>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Required" | translate }} </label>
                                            </div>
                                            <div class="col-md-8  control-label" style="text-align:left">
                                                <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Hint Message" | translate }} </label>
                                            </div>
                                            <div class="col-md-8" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                                <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div  ng-if="customField.type === 'Time range'" class="col-md-offset-1 col-md-10"> 
                                    <div class="row">
                                        <div class="row">
                                            <span class="h5"> {{ entity + "Validations" | translate }} </span>
                                            <fieldset class="hkg-fieldset">
                                            </fieldset>
                                            <div class="row">&nbsp;</div>
                                        </div>

                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Default Value" | translate }} </label>
                                            </div>
                                            <div class="col-md-8  control-label" style="text-align:left">
                                                <input type="checkbox" ng-model="customFieldValidation.defaultTime"/>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Required" | translate }} </label>
                                            </div>
                                            <div class="col-md-8  control-label" style="text-align:left">
                                                <input type="checkbox" ng-model="customFieldValidation.isRequired"/>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-md-4">
                                                <label class="control-label"> {{ entity + "Hint Message" | translate }} </label>
                                            </div>
                                            <div class="col-md-8" ng-class="{'has-error': validation.hintMessage.$invalid}">
                                                <input type="text"  name="hintMessage"  maxlength="50" class="form-control" ng-model="customFieldValidation.hintMessage" />

                                            </div>
                                        </div>
                                    </div>
                                </div>




                                <!--</div>-->
                            </form>
                        </div>

                    </div>
                    <!---  Form For Constraints -->
                    <!--<div class="col-md-12" >-->
                    <div ng-form="Constraints" ng-if="selectedFeatureEntityType && showConstraints && !isSubEntity && reloadConstraint && customField.type">
                        <form name="Constraints" class="form-horizontal" novalidate>
                            <!--<div class="form-group">-->
                            <!--<div  class="col-md-offset-1 col-md-10">-->
                            <!--<div  class="row">-->
                            <!--<div class="row">-->

                            <div class="form-group" >
                                <div class="col-md-12">
                                    <h4>{{entity + 'Constraints'| translate }}</h4>
                                </div>
                            </div>
                            <!--</div>-->

                            <div class=" form-group">
                                <div class="col-md-3 control-label">
                                    <label class=""> {{ entity + "Field Name" | translate }} </label>
                                </div>
                                <div class="col-md-7">
                                    <div class="col-md-5" ng-class="{'has-error': Constraints.conditionalOperator.$invalid && featureSubmited && submittedForm}">
                                        <select class="form-control"  name="conditionalOperator" id="conditionalOperator" ng-model="Custom.conditionalOperator"   ng-options="conditionalOperator.value as (conditionalOperator.label) for conditionalOperator in conditionalOperatorList">
                                            <option value="">{{entity + 'Select Operator'| translate}}</option>
                                        </select>
                                        <div class="error,help-block" ng-show="Constraints.conditionalOperator.$invalid && featureSubmited && submittedForm">
                                            <span class="help-block" ng-show="Constraints.conditionalOperator.$error.required">{{entity + 'Select Conditional operator'|translate}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2"  ng-class="{'has-error': Constraints.numericValue.$invalid || numericValueRequired }">
                                        <input type="text" numbers-only class="col-md-12 form-control"  ng-model="Custom.numericValue" ng-change="checkNumericArithmeticOperatorFlag()" ng-required="numericValueRequired" />
                                        <div class="error,help-block" ng-show="Constraints.numericValue.$error.required || numericValueRequired">
                                            <span class="help-block" ng-show="Constraints.numericValue.$error.required || numericValueRequired">{{entity + 'Select'|translate}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-5" ng-class="{'has-error': Constraints.arithmeticOperator.$invalid && featureSubmited && submittedForm || arithmeticOperatorRequired}">
                                        <select class="form-control"   name="arithmeticOperator" id="arithmeticOperator" ng-model="Custom.arithmeticOperator" ng-change="checkNumericRequiredFlag()" ng-required="arithmeticOperatorRequired" ng-options="arithmeticOperator.value as (arithmeticOperator.label) for arithmeticOperator in operatorList">
                                            <option value="">{{entity + 'Select'| translate}}</option>
                                        </select>
                                        <div class="error,help-block" ng-show="Constraints.arithmeticOperator.$invalid && featureSubmited && submittedForm || arithmeticOperatorRequired">
                                            <span class="help-block" ng-show="Constraints.arithmeticOperator.$error.required || arithmeticOperatorRequired">{{entity + 'Select Operator'|translate}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class=" form-group" >
                                <!--<div class="col-md-6"></div>-->
                                <div class="col-md-7 col-md-offset-3">
                                    <!--<div ng-if="reloadConstraint">-->

                                    <input class="form-control"  name="constraintEntity" id="constraintEntity" ng-model="Custom.constraintEntity"   ag-selectizeconstraints="selectizeOptionsForConstraints" options="options" />                                           
                                    <div ng-class="{'has-error': Constraints.constraintEntity.$invalid || Custom.constraintsEntityRequired}">
                                        <div class="error,help-block" ng-show="Custom.constraintsEntityRequired">
                                            <span class="help-block" ng-show="Custom.constraintsEntityRequired">{{entity + 'Select Constraint Entity'|translate}}</span>
                                        </div>
                                    </div>

                                    <div class="text text-right" style="color: gray"><span >{{entity + " . Field Name > 5 + Invoice.abc"| translate}}</span></div>
                                    <div class="text text-right" style="color: gray"><span >{{entity + " . Field Name  > Invoice.abc"| translate }}</span></div>


                                    <!--</div>-->

                                </div>
                            </div>


                            <!--</div>-->
                            <!--</div>-->
                            <!--</div>-->
                        </form>
                    </div>
                    <!--</div>--> 


                    <!---  Form For dependant field -->
                    <!--<div class="col-md-12" >-->
                    <div ng-form="dependant" ng-show="selectedFeatureEntityType && !isSubEntity && customField.type">
                        <form name="dependant" class="form-horizontal" novalidate>
                            <!--<div class="form-group">-->
                            <!--<div  class="col-md-offset-1 col-md-10">-->
                            <!--<div  class="row">-->
                            <!--<div class="row">-->
                            <div class="form-group" >
                                <div class="col-md-12">
                                    <h4>{{entity + 'DEPENDANT ON'| translate }}</h4>
                                </div>
                            </div>
                            <!--</div>-->

                            <div class=" form-group">
                                <div class="col-md-3 control-label">
                                    <label class=""> {{ entity + "Dependant On A Master Value?" | translate }} </label>
                                </div>
                                <div class="col-md-7  control-label" style="text-align:left">
                                    <input type="checkbox" ng-model="customFieldValidation.dependantOnMasterValue" ng-change="setMasters()"/>
                                </div>
                            </div>
                            <div class=" form-group" ng-if="customFieldValidation.dependantOnMasterValue && loadMaster">
                                <div class="col-md-3 control-label">
                                    <label class=""> {{ entity + "Select Master" | translate }} </label>
                                </div>
                                <div class="col-md-7" ng-class="{'has-error': dependant.select_master.$invalid && featureSubmited && submittedForm}">
                                    <input type="text" id="select_master" dynamic-options="true" name="select_master" ui-select2="select2allMasters" ng-model="customFieldValidation.dependantMasterId" class="col-md-6 hkg-nopadding form-control" ng-change = "changeMasters();
                                                        setMasterValuesForDependantField(customFieldValidation.dependantMasterId)" select-by-id="true" required/>
                                    <div class="error,help-block" ng-show="featureSubmited && dependant.select_master.$invalid && submittedForm">
                                    </div>
                                </div>
                            </div>
                            <div class=" form-group" ng-if="customFieldValidation.dependantOnMasterValue && loadValues">
                                <div class="col-md-3 control-label">
                                    <label class=""> {{ entity + "Select Value" | translate }} </label>
                                </div>
                                <div class="col-md-7" ng-class="{'has-error': dependant.select_master_value.$invalid && featureSubmited && submittedForm}">
                                    <input type="text" class="col-xs-12 hkg-nopadding" name="recipients" id="recipients" ng-required="true" required ui-select2="select2allMasterValues" ng-model="customFieldValidation.dependantMasterValue" ng-change="changeValueMaster()"/>
                                    <div class="error,help-block" ng-show="featureSubmited && dependant.select_master_value.$invalid && submittedForm">
                                        <span class="help-block" ng-show="dependant.select_master_value.$error.required">{{ entity + "Value not selected" | translate }}</span>
                                    </div>
                                </div>
                            </div>
                            <!--</div>-->
                            <!--</div>-->
                            <!--</div>-->
                        </form>
                    </div>
                    <!--</div>--> 



                    <div class="col-xs-12">
                        <div class="row">
                            <hr/>
                            <div class="col-xs-12 pull-right text-right"> <a ng-click="reset();">{{ entity + "Cancel" | translate }}</a>&nbsp;
                                <button class="btn btn-hkg " type="submit" ng-click="save();">{{ entity + "Save" | translate }}</button>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" id="messageModal">
                        <form name="messageModalForm" class="form-horizontal" novalidate>
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <a class="close" ng-click="hideconformationForRemoveCustomField();">&times;</a>
                                        <h4 class="modal-title">
                                            <b>{{entity + 'Remove Custom Field'|translate}}</b>
                                        </h4>

                                    </div>

                                    <div class="modal-body">
                                        <div class="form-group">

                                            <label  class="col-md-12">
                                                {{entity + 'Are you sure you want to remove the customfield '|translate}}{{customField.label}}{{entity + '?'| translate}}
                                            </label>

                                        </div> 
                                    </div>
                                    <div class="modal-footer">
                                        <div class="form-group">
                                            <div class="col-xs-12">
                                                <div class="row">
                                                    <div class="col-xs-12 pull-right text-right">
                                                        <button class="btn btn-hkg" ng-click="removeCustomField();" ng-disabled="disableOkForRemove">
                                                            {{entity + 'Ok'|translate}}
                                                        </button>
                                                        <button class="btn btn-hkg" ng-click="hideconformationForRemoveCustomField();">
                                                            {{entity + 'Cancel'|translate}}
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br/>*{{ entity + "The fields will be removed when you save changes on the feature" | translate }}
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal fade" id="messageModalFormRemove">
                        <form name="messageModalFormRemove" class="form-horizontal" novalidate>
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <a class="close" ng-click="cannotremoveCustomField();">&times;</a>
                                        <h4 class="modal-title">
                                            <b>{{entity + 'Can Not Remove Custom Field'|translate}}</b>
                                        </h4>

                                    </div>

                                    <div class="modal-body">
                                        <div class="form-group">
                                            <label  class="col-md-12">{{entity + 'This custom field is used in other custom fields So cannot remove this custom field '| translate}}</label>
                                        </div> 
                                    </div>
                                    <div class="modal-footer">
                                        <div class="form-group">
                                            <div class="col-xs-12">
                                                <div class="row">
                                                    <div class="col-xs-12 pull-right text-right">
                                                        <button class="btn btn-hkg" ng-click="cannotremoveCustomField();">
                                                            {{entity + 'Ok'|translate}}
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>


                    <div class="modal fade" id="messageModalFormPrivate">
                        <form name="messageModalFormRemove" class="form-horizontal" novalidate>
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <a class="close" ng-click="cancelPrivate();">&times;</a>
                                        <h4 class="modal-title">
                                            <b>{{entity + 'Change Custom Field Privacy'|translate}}</b>
                                        </h4>

                                    </div>

                                    <div class="modal-body">
                                        <div class="form-group">
                                            <label  class="col-md-12">{{entity + 'Are you sure you want to change the isPrivate property of this custom field?'| translate}}</label>
                                        </div> 
                                    </div>
                                    <div class="modal-footer">
                                        <div class="form-group">
                                            <div class="col-xs-12">
                                                <div class="row">
                                                    <div class="col-xs-12 pull-right text-right">
                                                        <button class="btn btn-hkg" ng-click="okPrivate();">
                                                            {{entity + 'Ok'|translate}}
                                                        </button>
                                                        <button class="btn btn-hkg" ng-click="cancelPrivate();">
                                                            {{entity + 'Cancel'|translate}}
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
        <div class="col-xs-3 tree-bg ">
            <div class="col-xs-12  fit-content"><span class="glyphicon glyphicon-circle-arrow-down text-hkg "></span>&nbsp;&nbsp;<span class="text-hkg"><strong>{{entity + 'EXISTING FEATURES'|translate}}</strong></span>
                <hr class="margin-md"/>
                <div class="col-xs-12">
                    <div class="input-group">
                        <input class="form-control" ng-model='treeSearchQuery' type="text" placeholder="Search"/>
                        <div class="input-group-addon" ><span class="glyphicon glyphicon-search"></span></div>
                    </div>
                </div>
                <!--Tree component starts-->
                <div class="col-xs-12 hkg-nopadding">
                    <br/>
                    <div ng-show="featureSectionList.length > 0" class="hkg-scrollable-menu-rule">
                        <div ng-click='selectFeaturedata(selectedFeature)' 
                             data-angular-treeview="true"
                             data-tree-id="selectedFeature"
                             ag-treemodel="featureSectionList" display-count="true" entity-name="ASTCTG_NM."
                             data-search-query='treeSearchQuery'>
                        </div>
                    </div>
                </div>
                <div ng-if="featureSectionList.length === 0">
                    {{entity + 'No features are available.'|translate}} 
                </div>
            </div>
            <div class="clearfix">
            </div>
        </div>
    </div></div>
