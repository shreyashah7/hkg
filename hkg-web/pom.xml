<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <artifactId>HKG</artifactId>
        <groupId>com.argusoft.hkg</groupId>
        <version>1.0-SNAPSHOT</version>
    </parent>

    <groupId>com.argusoft.hkg</groupId>
    <artifactId>hkg-web</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>war</packaging>
    <name>HKG Web center</name>
    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <configuration>
                    <source>1.8</source>
                    <target>1.8</target>
                </configuration>
            </plugin>            
        </plugins>
    </build>
    <properties>
        <endorsed.dir>${project.build.directory}/endorsed</endorsed.dir>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <!--Mital: Component to be added later. All the code is integrated in hkg only-->
        <!--        <dependency>
            <groupId>com.argusoft.reportbuilder</groupId>
            <artifactId>reportbuilder-core</artifactId>
        </dependency>-->
        
        <dependency>
            <groupId>org.jasypt</groupId>
            <artifactId>jasypt</artifactId>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>org.openid4java</groupId>
            <artifactId>openid4java</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-core</artifactId>
            <type>jar</type>
            <scope>compile</scope>
            <exclusions>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-core</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.freemarker</groupId>
            <artifactId>freemarker</artifactId>
            <version>2.3.14</version>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-config</artifactId>
            <type>jar</type>
            <scope>compile</scope>
            <exclusions>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-core</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-openid</artifactId>
            <type>jar</type>
            <scope>compile</scope>
            <exclusions>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-core</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-validator</artifactId>
            <version>5.3.5.Final</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-web</artifactId>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>javax.servlet-api</artifactId>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet.jsp</groupId>
            <artifactId>jsp-api</artifactId>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-webmvc</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-aop</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-expression</artifactId>
        </dependency>
        <dependency>
            <groupId>org.codehaus.jackson</groupId>
            <artifactId>jackson-mapper-asl</artifactId>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>com.jayway.jsonpath</groupId>
            <artifactId>json-path</artifactId>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>commons-fileupload</groupId>
            <artifactId>commons-fileupload</artifactId>
        </dependency>
        <!--To validate worksheet -->
        <dependency>
            <groupId>net.sourceforge.jexcelapi</groupId>
            <artifactId>jxl</artifactId>
            <version>2.6.10</version>
        </dependency>

        <dependency>
            <groupId>net.sourceforge.dynamicreports</groupId>
            <artifactId>dynamicreports-core</artifactId>
            <version>3.1.6</version>
        </dependency>
        <dependency>
            <groupId>net.sourceforge.dynamicreports</groupId>
            <artifactId>dynamicreports-adhoc</artifactId>
        </dependency>
        <dependency>
            <groupId>net.sourceforge.dynamicreports</groupId>
            <artifactId>dynamicreports-googlecharts</artifactId>
        </dependency>
         <dependency>
            <groupId>batik</groupId>
            <artifactId>batik-bridge</artifactId>
        </dependency>
        <dependency>
            <groupId>net.sf.jasperreports</groupId>
            <artifactId>jasperreports</artifactId>
            <version>5.5.0</version>
            <exclusions>
                <exclusion>
                    <artifactId>commons-collections</artifactId>
                    <groupId>commons-collections</groupId>
                </exclusion>
                <exclusion>
                    <artifactId>castor</artifactId>
                    <groupId>org.codehaus.castor</groupId>
                </exclusion>
                <exclusion>
                    <artifactId>jackson-core-lgpl</artifactId>
                    <groupId>org.codehaus.jackson</groupId>
                </exclusion>
                <exclusion>
                    <artifactId>jackson-mapper-lgpl</artifactId>
                    <groupId>org.codehaus.jackson</groupId>
                </exclusion>
                <exclusion>
                    <artifactId>jcommon</artifactId>
                    <groupId>jfree</groupId>
                </exclusion>
                <!--                <exclusion>
                    <artifactId>jdtcore</artifactId>
                    <groupId>eclipse</groupId>
                </exclusion>-->
                <exclusion>
                    <artifactId>jfreechart</artifactId>
                    <groupId>jfree</groupId>
                </exclusion>
            </exclusions>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>commons-collections</groupId>
            <artifactId>commons-collections</artifactId>
        </dependency>
        <dependency>
            <groupId>${project.groupId}</groupId>
            <artifactId>hkg-core</artifactId>
            <version>${project.version}</version>
            <type>jar</type>
        </dependency>
        <!--Dependency for Report genration -->
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi</artifactId>
            <version>3.10.1</version>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi-ooxml</artifactId>
            <version>3.10.1</version>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>jexcelapi</groupId>
            <artifactId>jxl</artifactId>
            <version>2.4.2</version>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>com.argusoft.usermanagement</groupId>
            <artifactId>usermanagement-core</artifactId>
        </dependency>
        <dependency>
            <groupId>com.argusoft.internationalization</groupId>
            <artifactId>internationalization-core</artifactId>
        </dependency>
        <dependency>
            <groupId>javax.validation</groupId>
            <artifactId>validation-api</artifactId>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-validator-annotation-processor</artifactId>
        </dependency>
        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjrt</artifactId>
        </dependency>
        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjtools</artifactId>
        </dependency>
        <!--For html to pdf-->
        <dependency>
            <groupId>org.xhtmlrenderer</groupId>
            <artifactId>flying-saucer-pdf</artifactId>
            <version>9.0.7</version>
        </dependency>
        <!--Added by: Raj for generating barcode-->
        <dependency>
            <groupId>net.sf.barcode4j</groupId>
            <artifactId>barcode4j</artifactId>
            <version>2.0</version>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>postgresql</groupId>
            <artifactId>postgresql</artifactId>
            <version>9.1-901-1.jdbc4</version>
            <type>jar</type>
        </dependency>
         <dependency>
            <groupId>org.java-websocket</groupId>
            <artifactId>Java-WebSocket</artifactId>
            <version>1.3.0</version>
        </dependency>

    </dependencies>
    <profiles>
<!--        <profile>
            <id>dev</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <sql.database.name>hkg</sql.database.name>
                <nosql.database.name>hkg</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg</repository.folder.name>
                <project.build.version>${project.version}</project.build.version>
                <use.sql.database>true</use.sql.database>
            </properties>
            <build>
                <finalName>hkg-web</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                  
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        This plugin is needed for the servlet example 
                        <groupId>org.eclipse.jetty</groupId>
                        <artifactId>jetty-maven-plugin</artifactId>
                        <version>9.3.0.M1</version>
                        <configuration>
                            <jvmArgs>-Xmx2048m -Xms1536m -XX:PermSize=1024m -XX:MaxPermSize=1024m</jvmArgs>
                            <webApp>
                                <defaultsDescriptor>${basedir}/src/main/webapp/WEB-INF/webdefault.xml</defaultsDescriptor>
                                <baseResource
                                    implementation="org.eclipse.jetty.util.resource.ResourceCollection">
                                    <resourcesAsCSV>${basedir}/src/main/webapp,${basedir}/../hkg-ui/src/main/webapp</resourcesAsCSV>
                                </baseResource>
                                <contextPath>/hkg</contextPath>
                            </webApp>
                            <scanIntervalSeconds>5</scanIntervalSeconds>
                            <webAppConfing>
                                <allowDuplicateFragmentNames>true</allowDuplicateFragmentNames>
                            </webAppConfing>
                                                        <connectors>
                                <connector implementation="org.eclipse.jetty.server.nio.SelectChannelConnector">
                                    <port>7071</port>
                                    <maxIdleTime>60000</maxIdleTime>
                                </connector>
                            </connectors>
                            
                                                        <Set name="sessionIdManager">
                                <New id="mongoIdMgr" class="org.eclipse.jetty.nosql.mongodb.MongoSessionIdManager">
                                    <Arg>
                                        <Ref id="Server"/>
                                    </Arg>
                                    <Set name="workerName">shruti</Set>
                                    <Set name="scavengeInterval">60</Set>
                                </New>
                            </Set>
                            <Call name="setAttribute">
                                <Arg>mongoIdMgr</Arg>
                                <Arg>
                                    <Ref id="mongoIdMgr"/>
                                </Arg>
                            </Call>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>release</id>
            <properties>
                <sql.database.name>hkg</sql.database.name>
                <nosql.database.name>hkg</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
            </properties>
            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                </dependency>
            </dependencies>
            <build>
                <finalName>hkg</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                  
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <overlays>
                                <overlay>
                                    <groupId>${project.groupId}</groupId>
                                    <artifactId>hkg-ui</artifactId>                                                                        
                                </overlay>
                            </overlays>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>-->
        <profile>
            <id>release</id>
            <properties>
                <sql.database.name>hkg</sql.database.name>
                <nosql.database.name>hkg</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
                <nosql.other.database.name>hkg</nosql.other.database.name>
                <use.sql.database>true</use.sql.database>
            </properties>
            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                </dependency>
            </dependencies>
            <build>
                <finalName>hkgmaster</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                  
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <!-- Add minimized resources -->
                            <webResources>
                                <resource>
                                    <directory>${project.build.directory}/minimized</directory>
                                    <targetPath>/</targetPath>
                                    <filtering>false</filtering>
                                </resource>
                                <resource>
                                    <directory>${basedir}/../hkg-ui/src/main/webapp/</directory>
                                </resource>
                            </webResources>
                            <!--                            <overlays>
                                <overlay>
                                    <groupId>${project.groupId}</groupId>
                                    <artifactId>hkg-ui</artifactId> 
                                </overlay>
                            </overlays>-->
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>net.alchim31.maven</groupId>
                        <artifactId>yuicompressor-maven-plugin</artifactId>
                        <version>1.1</version>
                        <executions>
                            <execution>
                                <goals>
                                    <!--<goal>jslint</goal>-->
                                    <goal>compress</goal>
                                </goals>
                            </execution>
                        </executions>
                        <configuration>
                            <sourceDirectory>${basedir}/../hkg-ui/src/main/webapp/</sourceDirectory>
                            <!--                     Don't output in the default webapp location, since the war plugin will overwrite the files in there
                            with the original, uncompressed ones. -->
                            <outputDirectory>${project.build.directory}/minimized</outputDirectory>
                            <!--We don't need the suffix (.min) because the minified files are put in a separate folder.--> 
                            <nosuffix>true</nosuffix>
                            <excludes>
                                <!--Exclude already minified files--> 
                                <!--<exclude>**/master-scripts/**</exclude>-->
                                <!--<exclude>**/sub-scripts/**</exclude>-->
                                <exclude>**/third-party/**/*.min.js</exclude>
                                <exclude>**/third-party/**/angular.js</exclude>
                                <exclude>**/third-party/**/pdfmake.js</exclude>
                                <exclude>**/sub-scripts/**</exclude>
                                <exclude>**/sync-helper.js</exclude>
                                <exclude>specs/**</exclude>
                                <exclude>Gruntfile.js</exclude>
                                <exclude>protractor-config.js</exclude>
                                <exclude>**/*/*.min.css</exclude>
                                <exclude>**/*.properties</exclude>
                            </excludes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-master-script-resources</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/master-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/master</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties/releaseserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>release_sub</id>
            <properties>
                <sql.database.name>hkg</sql.database.name>
                <nosql.database.name>hkgcenter</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
                <nosql.other.database.name>hkg</nosql.other.database.name>
                <use.sql.database>false</use.sql.database>
            </properties>
            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                </dependency>
            </dependencies>
            <build>
                <finalName>hkg</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                  
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <webResources>
                                <!-- Add minimized resources -->
                                <resource>
                                    <directory>${project.build.directory}/minimized</directory>
                                    <targetPath>/</targetPath>
                                    <filtering>false</filtering>
                                </resource>
                                <resource>
                                    <directory>${basedir}/../hkg-ui/src/main/webapp/</directory>
                                </resource>
                            </webResources>
                            <!--                            <overlays>
                                <overlay>
                                    <groupId>${project.groupId}</groupId>
                                    <artifactId>hkg-ui</artifactId>                                                                        
                                </overlay>
                            </overlays>-->
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>net.alchim31.maven</groupId>
                        <artifactId>yuicompressor-maven-plugin</artifactId>
                        <version>1.1</version>
                        <executions>
                            <execution>
                                <goals>
                                    <!--<goal>jslint</goal>-->
                                    <goal>compress</goal>
                                </goals>
                            </execution>
                        </executions>
                        <configuration>
                            <sourceDirectory>${basedir}/../hkg-ui/src/main/webapp/</sourceDirectory>
                            <!--                     Don't output in the default webapp location, since the war plugin will overwrite the files in there
                            with the original, uncompressed ones. -->
                            <outputDirectory>${project.build.directory}/minimized</outputDirectory>
                            <!--We don't need the suffix (.min) because the minified files are put in a separate folder.--> 
                            <nosuffix>true</nosuffix>
                            <excludes>
                                <!--Exclude already minified files--> 
                                <!--<exclude>**/master-scripts/**</exclude>-->
                                <!--<exclude>**/sub-scripts/**</exclude>-->
                                <exclude>**/third-party/**/*.min.js</exclude>
                                <exclude>**/third-party/**/angular.js</exclude>
                                <exclude>**/third-party/**/pdfmake.js</exclude>
                                <exclude>**/sub-scripts/**</exclude>
                                <exclude>**/sync-helper.js</exclude>
                                <exclude>specs/**</exclude>
                                <exclude>Gruntfile.js</exclude>
                                <exclude>protractor-config.js</exclude>
                                <exclude>**/*/*.min.css</exclude>
                                <exclude>**/*.properties</exclude>
                            </excludes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-sub-script-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/sub-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>            
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/sub</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties/releaseserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>dev_ci</id>
            <properties>
                <sql.database.name>hkg_dev</sql.database.name>
                <nosql.database.name>hkg_dev</nosql.database.name>
                <sql.drop.database>true</sql.drop.database>
                <repository.folder.name>hkg_dev</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
                <use.sql.database>true</use.sql.database>
            </properties>
            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                </dependency>
            </dependencies>
            <build>
                <finalName>hkg-ci</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                  
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <webResources>
                                <resource>
                                    <directory>${basedir}/../hkg-ui/src/main/webapp/</directory>
                                </resource>
                            </webResources>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-master-script-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/master-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>            
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/master</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties/devciserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>dev_ci_sub</id>
            <properties>
                <sql.database.name>hkg_dev</sql.database.name>
                <nosql.database.name>hkg_dev</nosql.database.name>
                <sql.drop.database>true</sql.drop.database>
                <repository.folder.name>hkg_dev</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
                <use.sql.database>false</use.sql.database>
            </properties>
            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                </dependency>
            </dependencies>
            <build>
                <finalName>hkg-ci</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                  
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <webResources>
                                <resource>
                                    <directory>${basedir}/../hkg-ui/src/main/webapp/</directory>
                                </resource>
                            </webResources>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-sub-script-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/sub-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>            
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/sub</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties/devciserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>staging_ci</id>
            <properties>
                <sql.database.name>hkg</sql.database.name>
                <nosql.database.name>hkg</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
                <use.sql.database>true</use.sql.database>
            </properties>
            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                </dependency>
            </dependencies>
            <build>
                <finalName>hkg-staging</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <webResources>
                                <resource>
                                    <directory>${basedir}/../hkg-ui/src/main/webapp/</directory>
                                </resource>
                            </webResources>
                            <!--                            <overlays>
                                <overlay>
                                    <groupId>${project.groupId}</groupId>
                                    <artifactId>hkg-ui</artifactId>
                                </overlay>
                            </overlays>-->
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-master-script-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/master-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>            
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/master</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties/stagingciserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>staging_ci_sub</id>
            <properties>
                <sql.database.name>hkg</sql.database.name>
                <nosql.database.name>hkg_center</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg_center</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
                <use.sql.database>false</use.sql.database>
            </properties>
            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                </dependency>
            </dependencies>
            <build>
                <finalName>hkg-staging-sub</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <webResources>
                                <resource>
                                    <directory>${basedir}/../hkg-ui/src/main/webapp/</directory>
                                </resource>
                            </webResources>
                            <!--                            <overlays>
                                <overlay>
                                    <groupId>${project.groupId}</groupId>
                                    <artifactId>hkg-ui</artifactId>
                                </overlay>
                            </overlays>-->
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-sub-script-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/sub-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>            
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/sub</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>staging-copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties/stagingciserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>qa_ci</id>
            <properties>
                <sql.database.name>hkg_qa</sql.database.name>
                <nosql.database.name>hkg_qa</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg_qa</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
                <use.sql.database>true</use.sql.database>
            </properties>
            <!--            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                    <classifier>source</classifier>
                </dependency>
            </dependencies>-->
            <build>
                <finalName>hkg</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                 
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <webResources>
                                <resource>
                                    <directory>${basedir}/../hkg-ui/src/main/webapp/</directory>
                                </resource>
                            </webResources>
                            <!--                            <overlays>
                                <overlay>
                                    <groupId>${project.groupId}</groupId>
                                    <artifactId>hkg-ui</artifactId>
                                </overlay>
                            </overlays>-->
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-master-script-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/master-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>            
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/master</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>qa-copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties/qaciserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>qa_ci_sub</id>
            <properties>
                <sql.database.name>hkg_qa</sql.database.name>
                <nosql.database.name>hkg_qa_center</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg_qa_center</repository.folder.name>
                <project.build.version>${PROJECT_BUILD_VERSION}</project.build.version>
                <use.sql.database>false</use.sql.database>
            </properties>
            <!--            <dependencies>
                <dependency>
                    <groupId>${project.groupId}</groupId>
                    <artifactId>hkg-ui</artifactId>
                    <version>${project.version}</version>
                    <type>war</type>
                    <classifier>source</classifier>
                </dependency>
            </dependencies>-->
            <build>
                <finalName>hkg_sub</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                 
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                            <webResources>
                                <resource>
                                    <directory>${basedir}/../hkg-ui/src/main/webapp/</directory>
                                </resource>
                            </webResources>
                            <!--                            <overlays>
                                <overlay>
                                    <groupId>${project.groupId}</groupId>
                                    <artifactId>hkg-ui</artifactId>
                                </overlay>
                            </overlays>-->
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-sub-script-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/sub-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>            
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/sub</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>qa-sub-copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties/qaciserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>dev_sub</id>
            <activation>
                <activeByDefault>false</activeByDefault>
            </activation>
            <properties>
                <sql.database.name>hkg</sql.database.name>
                <nosql.database.name>hkgcenter</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg</repository.folder.name>
                <project.build.version>${project.version}</project.build.version>
                <nosql.other.database.name>hkg</nosql.other.database.name>
                <use.sql.database>false
                </use.sql.database>
            </properties>
            <build>
                <finalName>hkg-web-sub</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                  
                </resources>
                <plugins>
                  
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <!--This plugin is needed for the servlet example -->
                        <groupId>org.eclipse.jetty</groupId>
                        <artifactId>jetty-maven-plugin</artifactId>
                        <version>9.3.0.M1</version>
                        <configuration>
                            <jvmArgs>-Xmx2048m -Xms1536m -XX:PermSize=1024m -XX:MaxPermSize=1024m</jvmArgs>
                            <webApp>
                                <defaultsDescriptor>${basedir}/src/main/webapp/WEB-INF/webdefault.xml</defaultsDescriptor>
                                <baseResource
                                    implementation="org.eclipse.jetty.util.resource.ResourceCollection">
                                    <resourcesAsCSV>${basedir}/src/main/webapp,${basedir}/../hkg-ui/src/main/webapp</resourcesAsCSV>
                                </baseResource>
                                <contextPath>/hkg</contextPath>
                            </webApp>
                            <scanIntervalSeconds>5</scanIntervalSeconds>
                            <webAppConfing>
                                <allowDuplicateFragmentNames>true</allowDuplicateFragmentNames>
                            </webAppConfing>
                            <!--                            <connectors>
                                <connector implementation="org.eclipse.jetty.server.nio.SelectChannelConnector">
                                    <port>7071</port>
                                    <maxIdleTime>60000</maxIdleTime>
                                </connector>
                            </connectors>-->
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/sub-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>            
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                                <!-- here the phase you need -->
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/sub</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>dev-sub-copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/centerproperties/devserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>dev</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <sql.database.name>hkg</sql.database.name>
                <nosql.database.name>hkg</nosql.database.name>
                <sql.drop.database>false</sql.drop.database>
                <repository.folder.name>hkg</repository.folder.name>
                <project.build.version>${project.version}</project.build.version>
                <!--<servers.ismaster>true</servers.ismaster>-->
                <nosql.other.database.name>hkgcenter</nosql.other.database.name>
                <use.sql.database>true</use.sql.database>
            </properties>
            <build>
                <finalName>hkg-web-master</finalName>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>true</filtering>
                        <includes>
                            <include>**/*.properties</include>                            
                        </includes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                        <filtering>false</filtering>
                        <excludes>
                            <exclude>**/*.properties</exclude>                            
                        </excludes>
                    </resource>                  
                </resources>
                <plugins>
                    <plugin>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <version>3.1</version>
                        <configuration>
                            <source>1.8</source>
                            <target>1.8</target>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <version>2.4</version>
                        <configuration>
                            <failOnMissingWebXml>false</failOnMissingWebXml>
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <version>2.14.1</version>
                        <configuration>
                            <includes>
                                <include>**/*Tests.java</include>
                            </includes>
                        </configuration>
                    </plugin>
                    <plugin>
                        <!--This plugin is needed for the servlet example -->
                        <groupId>org.eclipse.jetty</groupId>
                        <artifactId>jetty-maven-plugin</artifactId>
                        <version>9.3.0.M1</version>
                        <configuration>
                            <jvmArgs>-Xmx2048m -Xms1536m -XX:PermSize=1024m -XX:MaxPermSize=1024m</jvmArgs>
                            <webApp>
                                <defaultsDescriptor>${basedir}/src/main/webapp/WEB-INF/webdefault.xml</defaultsDescriptor>
                                <baseResource
                                    implementation="org.eclipse.jetty.util.resource.ResourceCollection">
                                    <resourcesAsCSV>${basedir}/src/main/webapp,${basedir}/../hkg-ui/src/main/webapp</resourcesAsCSV>
                                </baseResource>
                                <contextPath>/hkg</contextPath>
                            </webApp>
                            <scanIntervalSeconds>5</scanIntervalSeconds>
                            <webAppConfing>
                                <allowDuplicateFragmentNames>true</allowDuplicateFragmentNames>
                            </webAppConfing>
                            <!--                            <connectors>
                                <connector implementation="org.eclipse.jetty.server.nio.SelectChannelConnector">
                                    <port>9090</port>
                                    <maxIdleTime>60000</maxIdleTime>
                                </connector>
                            </connectors>-->
                        </configuration>
                    </plugin>
                    <plugin>
                        <artifactId>maven-resources-plugin</artifactId>
                        <version>2.7</version>
                        <executions>
                            <execution>
                                <id>copy-resources</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-ui/src/main/webapp/scripts</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-ui/src/main/webapp/scripts/master-scripts</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-java-resources</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/webapp/WEB-INF</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/webapp/WEB-INF/master</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>dev-master-copy-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties</directory>
                                            <includes>
                                                <include>*.properties</include>                            
                                            </includes>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                            <execution>
                                <id>copy-server-properties</id>
                              
                                <phase>validate</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <overwrite>true</overwrite>
                                    <outputDirectory>${basedir}/../hkg-web/src/main/resources</outputDirectory>
                                    <resources>          
                                        <resource>
                                            <directory>${basedir}/../hkg-web/src/main/resources/masterproperties/devserverproperties</directory>
                                            <!--<filtering>true</filtering>-->
                                        </resource>
                                    </resources>              
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
    </profiles>

</project>
